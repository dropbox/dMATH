[package]
name = "lean5-lsp"
version.workspace = true
edition.workspace = true
license.workspace = true
description = "Lean5 Language Server Protocol implementation"

[[bin]]
name = "lean5-lsp"
path = "src/main.rs"

[dependencies]
lean5-kernel.workspace = true
lean5-parser.workspace = true
lean5-elab.workspace = true

# LSP framework
tower-lsp = "0.20"
# Note: Use lsp-types 0.94 to match tower-lsp's internal dependency

# Async runtime
tokio = { workspace = true, features = ["rt-multi-thread", "sync", "macros", "io-util"] }

# Error handling
thiserror.workspace = true

# Serialization
serde.workspace = true
serde_json.workspace = true

# Logging
tracing.workspace = true

# Data structures
dashmap = "6.0"
ropey = "1.6"

[dev-dependencies]
tempfile.workspace = true
tokio = { workspace = true, features = ["rt", "sync", "macros"] }
