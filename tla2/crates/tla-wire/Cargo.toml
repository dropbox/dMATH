[package]
name = "tla-wire"
version.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
rust-version.workspace = true
description = "Universal application wiring verifier - checks that code components are properly connected"

[dependencies]
# TLA2 integration
tla-core = { path = "../tla-core" }

# Parsing (tree-sitter for language-agnostic extraction)
tree-sitter = { workspace = true }

# Language-specific grammars (optional features)
tree-sitter-rust = { version = "0.23", optional = true }
tree-sitter-typescript = { version = "0.23", optional = true }
tree-sitter-javascript = { version = "0.23", optional = true }
tree-sitter-python = { version = "0.23", optional = true }
tree-sitter-go = { version = "0.23", optional = true }

# Data structures
indexmap = { workspace = true, features = ["serde"] }
rustc-hash = { workspace = true }
dashmap = { workspace = true }

# Errors and diagnostics
thiserror = { workspace = true }
ariadne = { workspace = true }
miette = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }

# Async (for parallel analysis)
tokio = { workspace = true }

# Tracing
tracing = { workspace = true }

[dev-dependencies]
proptest = { workspace = true }
insta = { workspace = true }
tempfile = "3.10"

[features]
default = ["rust"]
rust = ["tree-sitter-rust"]
typescript = ["tree-sitter-typescript", "tree-sitter-javascript"]
python = ["tree-sitter-python"]
go = ["tree-sitter-go"]
all-languages = ["rust", "typescript", "python", "go"]
