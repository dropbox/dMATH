{
  "id": "spark",
  "name": "SPARK",
  "category": "program_verifier",
  "subcategory": "ada",

  "description": "Formal verification tools for the SPARK subset of Ada",
  "long_description": "SPARK is a formally verifiable subset of Ada designed for high-integrity systems. The SPARK toolset (GNATprove) provides flow analysis, proof of absence of runtime errors, and functional verification. SPARK has been used in aerospace, railway, and security-critical applications.",

  "capabilities": [
    "flow_analysis",
    "runtime_error_absence",
    "functional_verification",
    "contract_based",
    "do178_certification"
  ],
  "property_types": ["contract", "precondition", "postcondition", "invariant"],
  "input_languages": ["spark_ada"],
  "output_formats": ["proof_result", "flow_report"],

  "installation": {
    "methods": [
      {"type": "gnat", "command": "Download GNAT Studio from https://www.adacore.com/"},
      {"type": "apt", "command": "apt install gnat gnatprove"}
    ],
    "dependencies": ["gnat", "alt-ergo", "cvc4", "z3"],
    "platforms": ["linux", "macos", "windows"]
  },

  "documentation": {
    "official": "https://www.adacore.com/about-spark",
    "user_guide": "https://docs.adacore.com/spark2014-docs/html/ug/",
    "reference": "https://docs.adacore.com/spark2014-docs/html/lrm/"
  },

  "tactics": [
    {
      "name": "pre",
      "description": "Precondition",
      "syntax": "Pre => condition",
      "when_to_use": "To specify preconditions",
      "examples": ["Pre => X > 0"]
    },
    {
      "name": "post",
      "description": "Postcondition",
      "syntax": "Post => condition",
      "when_to_use": "To specify postconditions",
      "examples": ["Post => Result >= 0"]
    },
    {
      "name": "loop_invariant",
      "description": "Loop invariant",
      "syntax": "pragma Loop_Invariant (condition);",
      "when_to_use": "For loop verification",
      "examples": ["pragma Loop_Invariant (I <= N);"]
    }
  ],

  "error_patterns": [
    {
      "pattern": "medium: .* might fail",
      "meaning": "Could not prove property",
      "common_causes": ["Missing invariant", "Prover limitation"],
      "fixes": ["Add invariant", "Try different prover"]
    },
    {
      "pattern": "flow error",
      "meaning": "Data flow issue",
      "common_causes": ["Uninitialized read", "Missing global"],
      "fixes": ["Initialize variable", "Add Global aspect"]
    }
  ],

  "integration": {
    "dashprove_backend": true,
    "usl_property_types": ["contract", "invariant"],
    "cli_command": "dashprove verify --backend spark"
  },

  "performance": {
    "typical_runtime": "seconds to hours",
    "scalability": "Industrial-scale verification",
    "memory_usage": "Moderate to high"
  },

  "comparisons": {
    "similar_tools": ["dafny", "frama-c", "cbmc"],
    "advantages": [
      "DO-178C certification",
      "Industrial track record",
      "Flow analysis"
    ],
    "disadvantages": [
      "Ada ecosystem only",
      "Restricted language subset"
    ]
  },

  "metadata": {
    "version": "24.1",
    "last_updated": "2025-12-21",
    "maintainer": "AdaCore",
    "license": "GPL-3.0"
  }
}
