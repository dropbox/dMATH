{
  "tool": "elasticsearch",
  "category": "database",
  "common_errors": [
    {
      "pattern": "Connection refused",
      "meaning": "Cannot connect to Elasticsearch",
      "causes": ["Elasticsearch not running", "Wrong port", "Network settings"],
      "solutions": ["Start Elasticsearch", "Check port (default 9200)", "Set network.host"]
    },
    {
      "pattern": "security_exception.*authentication",
      "meaning": "Authentication failed",
      "causes": ["Wrong credentials", "Security plugin enabled", "API key invalid"],
      "solutions": ["Verify username/password", "Check Elasticsearch security config", "Refresh API key"]
    },
    {
      "pattern": "index_not_found_exception",
      "meaning": "Referenced index doesn't exist",
      "causes": ["Index not created", "Typo in index name", "Index deleted"],
      "solutions": ["Create index first", "Check index name", "Use index aliases"]
    },
    {
      "pattern": "cluster_block_exception.*FORBIDDEN.*index.*read-only",
      "meaning": "Index is read-only (usually disk full)",
      "causes": ["Disk watermark exceeded", "Index explicitly set read-only", "Recovery mode"],
      "solutions": ["Free disk space", "Clear read-only flag via API", "Increase disk watermark threshold"]
    },
    {
      "pattern": "mapper_parsing_exception",
      "meaning": "Document field doesn't match mapping",
      "causes": ["Type mismatch", "Unknown field", "Date format wrong"],
      "solutions": ["Check mapping types", "Enable dynamic mapping or add field", "Use correct date format"]
    },
    {
      "pattern": "circuit_breaking_exception",
      "meaning": "Memory circuit breaker triggered",
      "causes": ["Query using too much memory", "Too many concurrent queries", "Aggregation too large"],
      "solutions": ["Reduce query scope", "Increase circuit breaker limit", "Use smaller batch sizes"]
    },
    {
      "pattern": "version_conflict_engine_exception",
      "meaning": "Optimistic concurrency conflict",
      "causes": ["Document modified between read and write", "Race condition", "Wrong version number"],
      "solutions": ["Retry with current version", "Use seq_no and primary_term", "Implement retry logic"]
    },
    {
      "pattern": "primary_shard_not_available",
      "meaning": "Primary shard unavailable",
      "causes": ["Node down", "Shard allocation failed", "Index health red"],
      "solutions": ["Check node status", "Check cluster health", "Reroute shards manually"]
    },
    {
      "pattern": "too_many_clauses",
      "meaning": "Query has too many boolean clauses",
      "causes": ["Wildcard query expanded too much", "Too many terms in query", "max_clause_count exceeded"],
      "solutions": ["Increase max_clause_count", "Use more specific query", "Use filter context"]
    },
    {
      "pattern": "document_missing_exception",
      "meaning": "Document not found for update/delete",
      "causes": ["Document doesn't exist", "Wrong document ID", "Wrong index"],
      "solutions": ["Verify document exists", "Check document _id", "Verify correct index"]
    }
  ],
  "debugging_commands": [
    "GET /_cluster/health",
    "GET /_cluster/allocation/explain",
    "GET /_cat/indices?v",
    "GET /_cat/shards?v",
    "GET /_nodes/stats"
  ],
  "documentation_urls": [
    "https://www.elastic.co/guide/en/elasticsearch/reference/current/",
    "https://github.com/elastic/elasticsearch"
  ]
}
