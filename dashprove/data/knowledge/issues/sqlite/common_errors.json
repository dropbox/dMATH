{
  "tool": "sqlite",
  "category": "database",
  "common_errors": [
    {
      "pattern": "database is locked",
      "meaning": "Database file locked by another process",
      "causes": ["Concurrent write from another connection", "Long transaction", "NFS lock issue"],
      "solutions": ["Use WAL mode: PRAGMA journal_mode=WAL", "Add busy_timeout", "Close other connections"]
    },
    {
      "pattern": "no such table",
      "meaning": "Table doesn't exist",
      "causes": ["Table not created", "Wrong database file", "Case sensitivity"],
      "solutions": ["Create table first", "Verify database file path", "Check table name exactly"]
    },
    {
      "pattern": "UNIQUE constraint failed",
      "meaning": "Unique constraint violation",
      "causes": ["Duplicate primary key", "Duplicate unique column value", "Race condition"],
      "solutions": ["Use INSERT OR REPLACE", "Use INSERT OR IGNORE", "Handle IntegrityError"]
    },
    {
      "pattern": "disk I/O error",
      "meaning": "Cannot read/write database file",
      "causes": ["Disk full", "File permissions", "Corrupted database"],
      "solutions": ["Free disk space", "Check file permissions", "Run integrity_check, restore backup"]
    },
    {
      "pattern": "database or disk is full",
      "meaning": "No space for database operation",
      "causes": ["Disk full", "Max database size reached", "Temp directory full"],
      "solutions": ["Free disk space", "Vacuum database", "Set temp_store_directory"]
    },
    {
      "pattern": "unable to open database file",
      "meaning": "Cannot open database file",
      "causes": ["File doesn't exist", "Permission denied", "Directory doesn't exist"],
      "solutions": ["Create database first", "Check file permissions", "Create parent directory"]
    },
    {
      "pattern": "foreign key mismatch",
      "meaning": "Foreign key reference invalid",
      "causes": ["Parent table doesn't exist", "Column types don't match", "FK pragma disabled"],
      "solutions": ["Create parent table first", "Match column types", "PRAGMA foreign_keys = ON"]
    },
    {
      "pattern": "database disk image is malformed",
      "meaning": "Database file corrupted",
      "causes": ["Incomplete write", "System crash", "File system error"],
      "solutions": ["Restore from backup", "Try .recover command", "Export/import data"]
    },
    {
      "pattern": "SQLITE_BUSY",
      "meaning": "Database busy, cannot acquire lock",
      "causes": ["Write lock held", "WAL checkpoint in progress", "Concurrent access"],
      "solutions": ["Set busy_timeout: sqlite3_busy_timeout()", "Retry operation", "Use immediate transaction"]
    },
    {
      "pattern": "too many SQL variables",
      "meaning": "Query has too many bound parameters",
      "causes": ["Large IN clause", "Bulk insert with many values", "SQLITE_MAX_VARIABLE_NUMBER exceeded"],
      "solutions": ["Split into smaller queries", "Use temp table for large IN", "Batch inserts"]
    }
  ],
  "debugging_commands": [
    "PRAGMA integrity_check;",
    "PRAGMA journal_mode;",
    "PRAGMA foreign_keys;",
    ".tables",
    ".schema <table>"
  ],
  "documentation_urls": [
    "https://sqlite.org/docs.html",
    "https://github.com/sqlite/sqlite"
  ]
}
