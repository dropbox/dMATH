{
  "tool": "react_intl",
  "category": "i18n_localization",
  "common_errors": [
    {
      "pattern": "\\[React Intl\\] Missing message",
      "meaning": "No translation found for message ID in current locale",
      "causes": [
        "Message ID not in messages object passed to IntlProvider",
        "Typo in message ID",
        "Messages not loaded for current locale"
      ],
      "solutions": [
        "Ensure messages prop contains key matching id prop",
        "Use defaultMessage as fallback: <FormattedMessage id='greeting' defaultMessage='Hello' />",
        "Set onError handler to track missing translations"
      ]
    },
    {
      "pattern": "\\[React Intl\\] Cannot format message",
      "meaning": "Message syntax or values error",
      "causes": [
        "ICU message syntax error in translation",
        "Missing required interpolation values",
        "Invalid plural/select categories"
      ],
      "solutions": [
        "Validate ICU syntax: {count, plural, =0 {none} one {# item} other {# items}}",
        "Provide all required values prop entries",
        "Check for balanced braces and valid keywords"
      ]
    },
    {
      "pattern": "\\[React Intl\\] Could not find required `intl` object",
      "meaning": "useIntl/injectIntl used outside IntlProvider",
      "causes": [
        "Component not wrapped by IntlProvider",
        "IntlProvider unmounted or not in ancestor chain",
        "Multiple React trees without shared provider"
      ],
      "solutions": [
        "Wrap root component: <IntlProvider locale='en' messages={messages}>",
        "For modals/portals, ensure provider wraps portal content",
        "Use createIntl for imperative usage outside React"
      ]
    },
    {
      "pattern": "RawIntlProvider.*IntlProvider",
      "meaning": "Mixing RawIntlProvider and IntlProvider incorrectly",
      "causes": [
        "Using both providers in same tree",
        "Passing intl object to wrong provider"
      ],
      "solutions": [
        "Use IntlProvider for typical usage",
        "Use RawIntlProvider only with createIntl cache: <RawIntlProvider value={intlCache.get(locale)}>",
        "Don't nest IntlProvider inside RawIntlProvider"
      ]
    },
    {
      "pattern": "Invalid number skeleton",
      "meaning": "Number formatting skeleton syntax error",
      "causes": [
        "Unsupported skeleton pattern",
        "Wrong option combination",
        "Browser Intl.NumberFormat limitation"
      ],
      "solutions": [
        "Use standard skeletons: ::currency/USD, ::percent",
        "Fall back to options prop for complex formatting",
        "Test across target browsers"
      ]
    },
    {
      "pattern": "Maximum update depth exceeded",
      "meaning": "Infinite re-render loop",
      "causes": [
        "Creating new messages object on every render",
        "useIntl causing re-render cycle",
        "Unstable values prop reference"
      ],
      "solutions": [
        "Memoize messages object: useMemo(() => messages, [locale])",
        "Use stable values references",
        "Move messages object outside component"
      ]
    },
    {
      "pattern": "Error: Cannot format .* with options",
      "meaning": "Intl API options conflict or unsupported",
      "causes": [
        "Incompatible option combination",
        "Locale doesn't support requested format",
        "Polyfill missing features"
      ],
      "solutions": [
        "Check Intl.NumberFormat/DateTimeFormat option compatibility",
        "Add @formatjs/intl-* polyfills as needed",
        "Simplify format options"
      ]
    },
    {
      "pattern": "Invariant Violation",
      "meaning": "react-intl internal assertion failed",
      "causes": [
        "Missing required props",
        "Invalid prop types",
        "Breaking API change after upgrade"
      ],
      "solutions": [
        "Check component required props (id for FormattedMessage)",
        "Verify prop types match expected values",
        "Review upgrade guide for breaking changes"
      ]
    }
  ]
}
