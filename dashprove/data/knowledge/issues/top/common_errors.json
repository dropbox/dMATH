{
  "tool": "top",
  "version": "3.3",
  "last_updated": "2025-12-23",
  "errors": [
    {
      "id": "batch_mode",
      "pattern": "batch|script|non-interactive|redirect",
      "message": "Need non-interactive output",
      "cause": "top requires terminal by default",
      "solutions": [
        {
          "approach": "Batch mode",
          "code": "top -b -n 1  # One iteration, batch output\ntop -b -n 5 -d 1  # 5 iterations, 1 sec delay",
          "when": "Script/pipe"
        },
        {
          "approach": "Single snapshot",
          "code": "top -b -n 1 | head -20",
          "when": "One sample"
        },
        {
          "approach": "macOS",
          "code": "top -l 1  # One sample\ntop -l 2 -s 1  # 2 samples, 1 sec apart",
          "when": "macOS batch"
        }
      ]
    },
    {
      "id": "sort_column",
      "pattern": "sort|order by|highest|CPU|memory",
      "message": "Sort by different column",
      "cause": "Default sorts by CPU",
      "solutions": [
        {
          "approach": "Interactive",
          "code": "# In top:\n# P = sort by CPU\n# M = sort by memory\n# T = sort by time\n# N = sort by PID",
          "when": "Interactive"
        },
        {
          "approach": "Command line",
          "code": "top -o %MEM  # Sort by memory\ntop -o %CPU  # Sort by CPU",
          "when": "Linux cmdline"
        },
        {
          "approach": "macOS",
          "code": "top -o cpu  # Sort by CPU\ntop -o mem  # Sort by memory\ntop -o rsize  # Sort by resident size",
          "when": "macOS"
        }
      ]
    },
    {
      "id": "specific_user",
      "pattern": "user|specific user|filter user",
      "message": "Show only one user's processes",
      "cause": "Need to filter by user",
      "solutions": [
        {
          "approach": "Command line",
          "code": "top -u username  # Linux\ntop -U username  # macOS",
          "when": "Single user"
        },
        {
          "approach": "Interactive",
          "code": "# In top, press 'u' then enter username",
          "when": "While running"
        }
      ]
    },
    {
      "id": "specific_process",
      "pattern": "specific process|PID|one process|monitor",
      "message": "Monitor specific process",
      "cause": "Need to track one or few processes",
      "solutions": [
        {
          "approach": "By PID",
          "code": "top -p 1234  # Linux\ntop -pid 1234  # macOS",
          "when": "Single PID"
        },
        {
          "approach": "Multiple PIDs",
          "code": "top -p 1234,5678,9012  # Linux\ntop -pid 1234 -pid 5678  # macOS",
          "when": "Multiple"
        },
        {
          "approach": "By name",
          "code": "top -p $(pgrep -d',' processname)",
          "when": "Find by name"
        }
      ]
    },
    {
      "id": "update_interval",
      "pattern": "refresh|update|interval|delay|too fast",
      "message": "Change update frequency",
      "cause": "Default refresh too fast/slow",
      "solutions": [
        {
          "approach": "Command line",
          "code": "top -d 5  # 5 second delay (Linux)\ntop -s 5  # 5 second delay (macOS)",
          "when": "At start"
        },
        {
          "approach": "Interactive",
          "code": "# Press 'd' then enter new delay in seconds",
          "when": "While running"
        }
      ]
    },
    {
      "id": "columns_display",
      "pattern": "columns|fields|show|hide|customize",
      "message": "Want different columns",
      "cause": "Need to see/hide specific fields",
      "solutions": [
        {
          "approach": "Interactive",
          "code": "# Press 'f' to enter field management\n# Space to toggle, s to set sort\n# Press 'q' to exit field view",
          "when": "Configure fields"
        },
        {
          "approach": "Show threads",
          "code": "top -H  # Show threads (Linux)\n# Press 'H' while running",
          "when": "Thread view"
        }
      ]
    }
  ]
}
