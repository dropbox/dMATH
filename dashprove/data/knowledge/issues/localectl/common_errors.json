{
  "tool": "localectl",
  "category": "system_administration",
  "common_errors": [
    {
      "error_pattern": "Access denied",
      "cause": "Changing locale settings requires root privileges",
      "solution": "Use sudo: sudo localectl set-locale LANG=en_US.UTF-8",
      "severity": "error"
    },
    {
      "error_pattern": "Locale.*not installed",
      "cause": "Specified locale not available on system",
      "solution": "Generate locale: sudo locale-gen en_US.UTF-8 (Debian) or edit /etc/locale.gen",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to get D-Bus connection",
      "cause": "localed service not running",
      "solution": "Start service: sudo systemctl start systemd-localed",
      "severity": "error"
    },
    {
      "error_pattern": "Unknown locale",
      "cause": "Locale identifier is invalid",
      "solution": "List available locales: localectl list-locales. Use exact name.",
      "severity": "error"
    },
    {
      "error_pattern": "X11 keymap.*not found",
      "cause": "Specified keyboard layout not available",
      "solution": "List layouts: localectl list-x11-keymap-layouts. Install xkb-data package if needed.",
      "severity": "error"
    },
    {
      "error_pattern": "Cannot set LC_.*to default locale",
      "cause": "Locale variable cannot be set to specified value",
      "solution": "Ensure locale is generated. Check /etc/locale.gen includes the locale.",
      "severity": "error"
    },
    {
      "error_pattern": "Invalid keymap",
      "cause": "Console keymap doesn't exist",
      "solution": "List keymaps: localectl list-keymaps. Use valid keymap name.",
      "severity": "error"
    },
    {
      "error_pattern": "Keymap conversion not supported",
      "cause": "Cannot convert between X11 and console keymaps for this layout",
      "solution": "Set X11 and console keymaps separately: localectl set-keymap and localectl set-x11-keymap",
      "severity": "warning"
    },
    {
      "error_pattern": "Operation not supported",
      "cause": "Feature not available (may depend on system configuration)",
      "solution": "Check localectl --help. Some features require specific packages or configurations.",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to set X11 keyboard",
      "cause": "X11 configuration cannot be updated",
      "solution": "May need to update manually: /etc/X11/xorg.conf.d/ or restart X session",
      "severity": "error"
    }
  ]
}
