{
  "tool": "fdisk",
  "category": "disk_management",
  "common_errors": [
    {
      "error_pattern": "Permission denied",
      "cause": "fdisk requires root/sudo privileges to modify disk partitions",
      "solution": "Run with sudo: sudo fdisk /dev/sda",
      "severity": "error"
    },
    {
      "error_pattern": "cannot open /dev/",
      "cause": "Device doesn't exist or path is incorrect",
      "solution": "List available devices: lsblk or fdisk -l. Use correct device path.",
      "severity": "error"
    },
    {
      "error_pattern": "Device or resource busy",
      "cause": "Partition is mounted or in use by the system",
      "solution": "Unmount partition first: umount /dev/sdX1. May need to boot from live USB for root partition.",
      "severity": "error"
    },
    {
      "error_pattern": "Re-reading the partition table failed",
      "cause": "Kernel couldn't update partition table (device in use)",
      "solution": "Run: partprobe /dev/sdX or reboot for changes to take effect",
      "severity": "warning"
    },
    {
      "error_pattern": "GPT PMBR size mismatch",
      "cause": "Disk was cloned/resized and GPT backup header is in wrong location",
      "solution": "Fix with gdisk: sudo gdisk /dev/sdX, then 'w' to write (rebuilds headers)",
      "severity": "warning"
    },
    {
      "error_pattern": "Partition table entries are not in disk order",
      "cause": "Partitions were created out of order, causing numbering confusion",
      "solution": "Use fdisk 'x' expert menu, then 'f' to fix partition order",
      "severity": "warning"
    },
    {
      "error_pattern": "No free sectors available",
      "cause": "Disk is fully partitioned, no space for new partition",
      "solution": "Delete or shrink existing partitions to free space",
      "severity": "error"
    },
    {
      "error_pattern": "Invalid partition number",
      "cause": "Specified partition number doesn't exist or exceeds maximum",
      "solution": "Use 'p' in fdisk to print partition table and see valid numbers",
      "severity": "error"
    },
    {
      "error_pattern": "First sector.*out of range",
      "cause": "Specified sector is outside valid disk range",
      "solution": "Accept default first sector or specify valid sector within free space",
      "severity": "error"
    },
    {
      "error_pattern": "DOS partition table format cannot be used on drives larger than.*TB",
      "cause": "MBR partition table is limited to 2TB disks",
      "solution": "Use GPT instead: gdisk or fdisk with 'g' to create GPT table",
      "severity": "error"
    }
  ]
}
