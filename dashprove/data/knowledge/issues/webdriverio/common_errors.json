{
  "tool": "webdriverio",
  "category": "browser_automation",
  "common_errors": [
    {
      "pattern": "ECONNREFUSED.*4444|unable to connect to chromedriver",
      "meaning": "Cannot connect to WebDriver server",
      "causes": ["Driver not running", "Wrong port", "Driver crashed"],
      "solutions": ["Start chromedriver/geckodriver manually", "Use @wdio/selenium-standalone-service", "Check capabilities.port matches driver"]
    },
    {
      "pattern": "session not created.*Chrome version",
      "meaning": "ChromeDriver/Chrome version mismatch",
      "causes": ["Browser updated", "Old chromedriver", "Version incompatibility"],
      "solutions": ["Update chromedriver: npm update chromedriver", "Use @wdio/chromedriver-service for auto-matching", "Check chrome://version and download matching driver"]
    },
    {
      "pattern": "element.*not interactable|element not visible",
      "meaning": "Element cannot be clicked/interacted",
      "causes": ["Element hidden", "Overlay covering element", "Not in viewport"],
      "solutions": ["Wait for element: await elem.waitForClickable()", "Scroll into view: await elem.scrollIntoView()", "Check for overlays/modals blocking"]
    },
    {
      "pattern": "stale element reference|element is not attached",
      "meaning": "Element reference no longer valid",
      "causes": ["Page reloaded", "DOM changed", "Element re-rendered"],
      "solutions": ["Re-query element before interaction", "Wait for page stability", "Use waitUntil for dynamic content"]
    },
    {
      "pattern": "element.*not found|no such element",
      "meaning": "Element selector didn't match",
      "causes": ["Wrong selector", "Element not loaded", "Element in iframe"],
      "solutions": ["Verify selector in browser DevTools", "Add explicit wait: await $(selector).waitForExist()", "Switch to iframe: await browser.switchToFrame(iframe)"]
    },
    {
      "pattern": "timeout.*waiting for|async.*timeout",
      "meaning": "Wait timeout exceeded",
      "causes": ["Page too slow", "Condition never true", "Timeout too short"],
      "solutions": ["Increase timeout in wdio.conf.js", "Check condition logic", "Use waitUntil with custom timeout"]
    },
    {
      "pattern": "invalid session id|session deleted|NoSuchSession",
      "meaning": "Browser session invalid",
      "causes": ["Browser crashed", "Session timeout", "Driver restarted"],
      "solutions": ["Check browser process is alive", "Increase sessionTimeout in capabilities", "Review browser logs for crashes"]
    },
    {
      "pattern": "unknown command|Method not allowed",
      "meaning": "WebDriver command not supported",
      "causes": ["Wrong protocol version", "Browser doesn't support command", "Driver too old"],
      "solutions": ["Update WebDriverIO and drivers", "Check browser supports the API", "Use protocol: 'webdriver' in config"]
    },
    {
      "pattern": "Protocol error.*Target closed",
      "meaning": "Browser tab/window closed",
      "causes": ["Page navigated away", "Browser closed", "JavaScript error caused crash"],
      "solutions": ["Check for JS errors: browser.getLogs('browser')", "Don't close window being used", "Add error handling for navigation"]
    },
    {
      "pattern": "selector.*required|missing argument",
      "meaning": "Command called incorrectly",
      "causes": ["Missing selector argument", "Wrong method signature", "API changed"],
      "solutions": ["Check WebDriverIO API docs", "Update to match v7/v8 syntax", "Use $ or $$ for element queries"]
    }
  ],
  "debugging_commands": [
    "npx wdio run wdio.conf.js --spec test.js",
    "npx wdio repl",
    "DEBUG=webdriverio* npm test",
    "npx wdio config"
  ],
  "documentation_urls": [
    "https://webdriver.io/docs/gettingstarted",
    "https://github.com/webdriverio/webdriverio"
  ]
}
