{
  "tool": "localstack",
  "category": "local_development",
  "common_errors": [
    {
      "pattern": "Unable to connect to LocalStack",
      "cause": "LocalStack container not running",
      "solutions": [
        "Start LocalStack: localstack start",
        "Check Docker is running",
        "Verify port 4566 is not in use"
      ]
    },
    {
      "pattern": "Service.*not available",
      "cause": "AWS service not enabled in LocalStack",
      "solutions": [
        "Enable service in SERVICES env var",
        "Check LocalStack Pro for advanced services",
        "Update to latest LocalStack version"
      ]
    },
    {
      "pattern": "Access Denied.*credentials",
      "cause": "AWS credentials not configured for LocalStack",
      "solutions": [
        "Set AWS_ACCESS_KEY_ID=test",
        "Set AWS_SECRET_ACCESS_KEY=test",
        "Use --endpoint-url=http://localhost:4566"
      ]
    },
    {
      "pattern": "connection refused.*4566",
      "cause": "LocalStack not running or wrong port",
      "solutions": [
        "Start LocalStack: localstack start",
        "Check EDGE_PORT configuration",
        "Verify Docker network settings"
      ]
    },
    {
      "pattern": "Lambda.*execution failed",
      "cause": "Lambda runtime or configuration issue",
      "solutions": [
        "Enable LAMBDA_EXECUTOR=docker",
        "Mount Docker socket: -v /var/run/docker.sock",
        "Check Lambda handler path"
      ]
    },
    {
      "pattern": "Container.*already exists",
      "cause": "Previous LocalStack container not cleaned up",
      "solutions": [
        "Remove container: docker rm -f localstack_main",
        "Use localstack stop before start",
        "Clean volumes: docker volume prune"
      ]
    },
    {
      "pattern": "Persistence.*not working",
      "cause": "Data directory not configured",
      "solutions": [
        "Set PERSISTENCE=1",
        "Mount volume: -v ./volume:/var/lib/localstack",
        "Check DATA_DIR configuration"
      ]
    },
    {
      "pattern": "Network.*not found",
      "cause": "Docker network configuration issue",
      "solutions": [
        "Create network: docker network create localstack",
        "Use DOCKER_HOST properly",
        "Check Docker Compose network settings"
      ]
    },
    {
      "pattern": "S3.*InvalidBucketName",
      "cause": "Bucket name doesn't follow S3 conventions",
      "solutions": [
        "Use lowercase bucket names",
        "Avoid underscores in bucket names",
        "Check S3 naming rules"
      ]
    },
    {
      "pattern": "SQS.*QueueDoesNotExist",
      "cause": "Queue not created or wrong endpoint",
      "solutions": [
        "Create queue before use",
        "Check queue URL uses LocalStack endpoint",
        "Verify region matches"
      ]
    }
  ]
}
