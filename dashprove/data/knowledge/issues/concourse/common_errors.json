{
  "tool": "concourse",
  "category": "ci_cd",
  "common_errors": [
    {
      "error_pattern": "yaml.*invalid",
      "description": "Pipeline YAML is malformed",
      "causes": [
        "Syntax error in pipeline.yml",
        "Invalid YAML structure",
        "Unknown field in configuration"
      ],
      "solutions": [
        "Validate YAML: fly validate-pipeline -c pipeline.yml",
        "Check Concourse schema requirements",
        "Review YAML syntax"
      ]
    },
    {
      "error_pattern": "resource.*not found",
      "description": "Referenced resource doesn't exist",
      "causes": [
        "Resource not defined in resources section",
        "Resource name typo",
        "Resource type not available"
      ],
      "solutions": [
        "Define resource in resources: block",
        "Check resource name matches reference",
        "Define custom resource_types if needed"
      ]
    },
    {
      "error_pattern": "task.*not found",
      "description": "Task configuration file missing",
      "causes": [
        "Task YAML file not in input",
        "Wrong path in file: reference",
        "Input not mapped correctly"
      ],
      "solutions": [
        "Ensure task file in git resource",
        "Check file: path matches input structure",
        "Use inline task: config: instead"
      ]
    },
    {
      "error_pattern": "get.*failed",
      "description": "Resource get step failed",
      "causes": [
        "Resource unavailable",
        "Credentials invalid",
        "Version not found"
      ],
      "solutions": [
        "Check resource configuration",
        "Verify credentials in source",
        "Review version constraints"
      ]
    },
    {
      "error_pattern": "put.*failed",
      "description": "Resource put step failed",
      "causes": [
        "Target unavailable",
        "Permissions denied",
        "Invalid parameters"
      ],
      "solutions": [
        "Check resource target configuration",
        "Verify write permissions",
        "Review params in put step"
      ]
    },
    {
      "error_pattern": "worker.*not available",
      "description": "No worker available to run task",
      "causes": [
        "All workers busy",
        "Worker tag filter excludes workers",
        "Workers offline"
      ],
      "solutions": [
        "Scale up workers",
        "Check worker status: fly workers",
        "Review tags configuration"
      ]
    },
    {
      "error_pattern": "input.*not mapped",
      "description": "Task input not provided",
      "causes": [
        "Input name doesn't match previous output",
        "Missing input_mapping",
        "Resource not fetched"
      ],
      "solutions": [
        "Add get step before task for input",
        "Use input_mapping: { old_name: new_name }",
        "Verify passed: constraints"
      ]
    },
    {
      "error_pattern": "output.*not saved",
      "description": "Task output not captured",
      "causes": [
        "Output path not created",
        "Output name mismatch",
        "Task failed before output"
      ],
      "solutions": [
        "Create output directory in task",
        "Ensure output name matches task config",
        "Debug task execution"
      ]
    },
    {
      "error_pattern": "secret.*not found",
      "description": "Cannot access secret from vault/credmgr",
      "causes": [
        "Secret path incorrect",
        "Credential manager not configured",
        "Team not authorized"
      ],
      "solutions": [
        "Check secret path: ((secret_name))",
        "Configure credential manager in deployment",
        "Verify team access to secrets"
      ]
    },
    {
      "error_pattern": "pipeline.*paused",
      "description": "Pipeline is paused and won't run",
      "causes": [
        "Pipeline manually paused",
        "New pipeline starts paused",
        "Auto-pause on failure"
      ],
      "solutions": [
        "Unpause: fly unpause-pipeline -p name",
        "Use --paused=false on set-pipeline",
        "Check pipeline status in UI"
      ]
    },
    {
      "error_pattern": "image.*not available",
      "description": "Task image cannot be pulled",
      "causes": [
        "Image doesn't exist",
        "Registry authentication required",
        "Network issue"
      ],
      "solutions": [
        "Verify image_resource configuration",
        "Add registry credentials to source",
        "Check worker network connectivity"
      ]
    },
    {
      "error_pattern": "across.*invalid",
      "description": "Invalid across configuration",
      "causes": [
        "Malformed across matrix",
        "Empty values array",
        "Wrong var reference"
      ],
      "solutions": [
        "Define across: [{var: name, values: [a, b]}]",
        "Use ((.:var)) to reference in config",
        "Check across syntax in docs"
      ]
    }
  ]
}
