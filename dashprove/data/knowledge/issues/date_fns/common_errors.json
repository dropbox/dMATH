{
  "tool": "date_fns",
  "category": "i18n_localization",
  "common_errors": [
    {
      "pattern": "Invalid Date",
      "meaning": "Date parsing or creation failed",
      "causes": [
        "Input string doesn't match expected format",
        "Passing invalid value to date functions",
        "ISO string with timezone issues"
      ],
      "solutions": [
        "Use parse() with explicit format: parse('01/02/2024', 'MM/dd/yyyy', new Date())",
        "Validate input with isValid() before operations",
        "Use parseISO() for ISO 8601 strings"
      ]
    },
    {
      "pattern": "RangeError: Invalid time value",
      "meaning": "Date value out of valid range",
      "causes": [
        "Creating date from invalid timestamp",
        "Arithmetic operation resulted in invalid date",
        "Parsing string that can't represent valid date"
      ],
      "solutions": [
        "Check input value bounds",
        "Use isValid(date) before operations",
        "Handle edge cases like Feb 30 explicitly"
      ]
    },
    {
      "pattern": "Format string contains an unescaped latin alphabet character",
      "meaning": "Format string has character interpreted as format token",
      "causes": [
        "Literal text not escaped in format string",
        "Using deprecated format pattern from moment.js"
      ],
      "solutions": [
        "Escape literals with single quotes: format(date, \"MMMM 'de' yyyy\")",
        "Use date-fns format tokens (not moment): yyyy not YYYY, dd not DD",
        "Check format token reference for v2+ syntax changes"
      ]
    },
    {
      "pattern": "Cannot read property 'code' of undefined",
      "meaning": "Locale not properly imported",
      "causes": [
        "Forgot to import locale",
        "Incorrect locale import path",
        "Using locale string instead of locale object"
      ],
      "solutions": [
        "Import locale: import { de } from 'date-fns/locale'",
        "Pass locale object: format(date, 'PPPP', { locale: de })",
        "Use setDefaultOptions({ locale }) for global default"
      ]
    },
    {
      "pattern": "useX is not exported from date-fns",
      "meaning": "Function not available at expected import path",
      "causes": [
        "Using v1 import style with v2+ library",
        "Tree-shaking not configured correctly",
        "Import path changed between versions"
      ],
      "solutions": [
        "Use direct imports: import { format } from 'date-fns'",
        "Or named subpath: import format from 'date-fns/format'",
        "Check changelog for renamed/removed functions"
      ]
    },
    {
      "pattern": "Expected \\d+ arguments, but got \\d+",
      "meaning": "Wrong number of arguments to function",
      "causes": [
        "API changed between date-fns versions",
        "Missing required arguments",
        "Confusing with moment.js API"
      ],
      "solutions": [
        "date-fns uses separate arguments, not method chaining",
        "addDays(date, 5) not date.add(5, 'days')",
        "Check function signature in docs"
      ]
    },
    {
      "pattern": "TypeError: (0 , date_fns.*) is not a function",
      "meaning": "Import/export mismatch",
      "causes": [
        "ESM/CJS interop issue",
        "Bundler not handling date-fns exports correctly",
        "Wrong import syntax"
      ],
      "solutions": [
        "Use named imports: import { format } from 'date-fns'",
        "Check bundler configuration for ESM handling",
        "Try explicit CJS: const { format } = require('date-fns')"
      ]
    },
    {
      "pattern": "toDate: argument must be an instance of Date or a number",
      "meaning": "Invalid date argument type",
      "causes": [
        "Passing string instead of Date object",
        "Passing undefined/null",
        "Type coercion failure"
      ],
      "solutions": [
        "Convert strings first: parseISO(string) or new Date(string)",
        "Check for null/undefined before calling",
        "date-fns v2+ doesn't auto-convert strings unlike v1"
      ]
    }
  ]
}
