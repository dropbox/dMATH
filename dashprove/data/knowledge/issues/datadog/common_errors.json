{
  "tool": "datadog",
  "category": "monitoring",
  "common_errors": [
    {
      "pattern": "API key.*invalid",
      "meaning": "Datadog API key rejected",
      "causes": ["Wrong API key", "Key revoked", "Key from different org"],
      "solutions": ["Verify API key in Datadog UI", "Generate new key", "Check org context"]
    },
    {
      "pattern": "Agent.*not running",
      "meaning": "Datadog Agent not operational",
      "causes": ["Agent service stopped", "Installation failed", "Config error"],
      "solutions": ["Start agent: sudo systemctl start datadog-agent", "Check logs: /var/log/datadog/", "Verify datadog.yaml"]
    },
    {
      "pattern": "Check.*failed",
      "meaning": "Integration check failing",
      "causes": ["Wrong credentials", "Service not reachable", "Check misconfigured"],
      "solutions": ["Run: datadog-agent check <integration>", "Verify service access", "Check conf.d/<integration>.d/"]
    },
    {
      "pattern": "forwarder.*unable to send",
      "meaning": "Cannot send data to Datadog",
      "causes": ["Network issue", "Proxy misconfigured", "Firewall blocking"],
      "solutions": ["Check network to intake.datadoghq.com", "Configure proxy in datadog.yaml", "Open outbound 443"]
    },
    {
      "pattern": "custom metric limit",
      "meaning": "Custom metrics quota exceeded",
      "causes": ["Too many unique metric/tag combinations", "Cardinality explosion", "Unbounded tags"],
      "solutions": ["Reduce tag cardinality", "Aggregate metrics", "Request quota increase"]
    },
    {
      "pattern": "log.*rate limited",
      "meaning": "Log ingestion rate limited",
      "causes": ["Exceeding log quota", "Burst of logs", "Log pipeline misconfigured"],
      "solutions": ["Apply log filters", "Use log sampling", "Upgrade plan"]
    },
    {
      "pattern": "APM.*trace.*dropped",
      "meaning": "APM traces being dropped",
      "causes": ["Trace rate exceeded", "Agent buffer full", "Trace too large"],
      "solutions": ["Configure sampling rules", "Increase agent buffer", "Reduce span count"]
    },
    {
      "pattern": "process check.*cannot connect",
      "meaning": "Process agent cannot collect data",
      "causes": ["Permissions issue", "Process agent disabled", "System access denied"],
      "solutions": ["Enable process collection in datadog.yaml", "Run agent with appropriate permissions", "Check container access"]
    },
    {
      "pattern": "hostname.*change",
      "meaning": "Host reporting with different hostname",
      "causes": ["Container/pod recreation", "Hostname resolution change", "Cloud instance replace"],
      "solutions": ["Set explicit hostname in config", "Use hostname_from_config_file", "Configure cloud provider integration"]
    },
    {
      "pattern": "DogStatsD.*connection refused",
      "meaning": "Cannot connect to DogStatsD",
      "causes": ["DogStatsD not running", "Wrong port", "Listening on different interface"],
      "solutions": ["Enable DogStatsD in agent", "Check port 8125", "Set dogstatsd_non_local_traffic: true"]
    }
  ],
  "debugging_commands": [
    "datadog-agent status",
    "datadog-agent check <integration>",
    "datadog-agent configcheck",
    "datadog-agent diagnose",
    "datadog-agent flare"
  ],
  "documentation_urls": [
    "https://docs.datadoghq.com/",
    "https://github.com/DataDog/datadog-agent"
  ]
}
