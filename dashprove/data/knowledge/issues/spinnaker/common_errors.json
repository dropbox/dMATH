{
  "tool": "spinnaker",
  "category": "ci_cd",
  "common_errors": [
    {
      "error_pattern": "pipeline.*failed.*validation",
      "description": "Pipeline JSON/configuration invalid",
      "causes": [
        "Required fields missing",
        "Invalid stage configuration",
        "JSON syntax error"
      ],
      "solutions": [
        "Use Spinnaker UI to validate pipeline",
        "Check required fields in each stage",
        "Review JSON syntax if using API"
      ]
    },
    {
      "error_pattern": "cloud provider.*not configured",
      "description": "Target cloud provider not set up",
      "causes": [
        "Provider not enabled in Halyard",
        "Credentials not configured",
        "Account not found"
      ],
      "solutions": [
        "Configure provider: hal config provider kubernetes enable",
        "Add credentials: hal config provider kubernetes account add",
        "Deploy changes: hal deploy apply"
      ]
    },
    {
      "error_pattern": "account.*not found",
      "description": "Referenced account doesn't exist",
      "causes": [
        "Account name typo",
        "Account not configured in Halyard",
        "Clouddriver not synced"
      ],
      "solutions": [
        "List accounts: hal config provider <type> account list",
        "Add account if missing",
        "Restart Clouddriver to sync"
      ]
    },
    {
      "error_pattern": "bake.*failed",
      "description": "Image baking stage failed",
      "causes": [
        "Packer template error",
        "Base image not found",
        "Rosco configuration issue"
      ],
      "solutions": [
        "Check Rosco logs for details",
        "Verify base AMI/image exists",
        "Review Packer template syntax"
      ]
    },
    {
      "error_pattern": "deploy.*timed out",
      "description": "Deployment stage exceeded timeout",
      "causes": [
        "Application slow to start",
        "Health check failing",
        "Resource constraints"
      ],
      "solutions": [
        "Increase stage timeout",
        "Fix application health checks",
        "Check resource limits"
      ]
    },
    {
      "error_pattern": "manifest.*invalid",
      "description": "Kubernetes manifest has errors",
      "causes": [
        "YAML syntax error",
        "Invalid Kubernetes schema",
        "Missing required fields"
      ],
      "solutions": [
        "Validate manifest: kubectl apply --dry-run",
        "Check Kubernetes resource schema",
        "Review inline manifest or artifact"
      ]
    },
    {
      "error_pattern": "trigger.*not firing",
      "description": "Pipeline trigger not working",
      "causes": [
        "Trigger misconfigured",
        "Webhook not reaching Spinnaker",
        "CRON expression invalid"
      ],
      "solutions": [
        "Verify trigger configuration",
        "Check Echo logs for events",
        "Test webhook manually"
      ]
    },
    {
      "error_pattern": "artifact.*not found",
      "description": "Expected artifact not available",
      "causes": [
        "Artifact not produced by trigger",
        "Artifact binding mismatch",
        "Previous stage didn't output artifact"
      ],
      "solutions": [
        "Define expected artifacts in trigger",
        "Check artifact account configuration",
        "Verify artifact type matches"
      ]
    },
    {
      "error_pattern": "execution.*stuck",
      "description": "Pipeline execution not progressing",
      "causes": [
        "Manual judgment waiting",
        "Approval required",
        "Resource deadlock"
      ],
      "solutions": [
        "Check for pending manual judgment",
        "Review execution details in UI",
        "Cancel and retry if stuck"
      ]
    },
    {
      "error_pattern": "insufficient.*capacity",
      "description": "Cannot scale to desired capacity",
      "causes": [
        "Cloud quota exceeded",
        "Instance type unavailable",
        "Subnet capacity full"
      ],
      "solutions": [
        "Request quota increase",
        "Use different instance types",
        "Check availability zones"
      ]
    },
    {
      "error_pattern": "rollback.*failed",
      "description": "Automatic rollback not working",
      "causes": [
        "No previous version available",
        "Rollback disabled",
        "Previous version also unhealthy"
      ],
      "solutions": [
        "Enable automatic rollback in strategy",
        "Ensure previous server group exists",
        "Check rollback configuration"
      ]
    },
    {
      "error_pattern": "Igor.*connection refused",
      "description": "Cannot connect to CI system",
      "causes": [
        "Igor service down",
        "CI system unreachable",
        "Credentials expired"
      ],
      "solutions": [
        "Check Igor service status",
        "Verify CI system connectivity",
        "Update credentials in Halyard"
      ]
    }
  ]
}
