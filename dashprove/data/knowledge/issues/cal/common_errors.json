{
  "tool": "cal",
  "version": "util-linux / BSD",
  "last_updated": "2025-12-23",
  "errors": [
    {
      "id": "invalid_year",
      "pattern": "cal:.*illegal|cal:.*invalid|cal:.*year",
      "message": "Invalid year specified",
      "cause": "Year out of range or bad format",
      "solutions": [
        {
          "approach": "Correct format",
          "code": "cal 2024       # Year only\ncal 1 2024     # January 2024\ncal -m 1 2024  # Also January 2024",
          "when": "Specify year"
        },
        {
          "approach": "Year range",
          "code": "cal 1 9999  # Valid years typically 1-9999",
          "when": "Historic/future"
        }
      ]
    },
    {
      "id": "invalid_month",
      "pattern": "cal:.*month|cal:.*illegal month|bad month",
      "message": "Invalid month specified",
      "cause": "Month must be 1-12",
      "solutions": [
        {
          "approach": "Numeric month",
          "code": "cal -m 3 2024  # March 2024",
          "when": "Specify month"
        },
        {
          "approach": "Order matters",
          "code": "cal 3 2024     # month year (traditional)\ncal -m 3 2024  # -m month year (explicit)",
          "when": "Month vs year confusion"
        }
      ]
    },
    {
      "id": "command_not_found",
      "pattern": "cal:.*command not found|cal:.*not found",
      "message": "cal not installed",
      "cause": "cal may not be in minimal systems",
      "solutions": [
        {
          "approach": "Install on Linux",
          "code": "sudo apt install ncal  # Debian/Ubuntu\nsudo yum install util-linux  # RHEL",
          "when": "Install missing"
        },
        {
          "approach": "Use ncal alternative",
          "code": "ncal  # Alternative on some systems",
          "when": "ncal available"
        }
      ]
    },
    {
      "id": "highlight_not_working",
      "pattern": "no highlight|current day|today",
      "message": "Today not highlighted",
      "cause": "Not running in terminal or TERM not set",
      "solutions": [
        {
          "approach": "Force highlight",
          "code": "cal -h  # Turns OFF highlighting (to see default)\ncal     # Should highlight today by default",
          "when": "Check behavior"
        },
        {
          "approach": "Check TERM",
          "code": "echo $TERM  # Should be xterm-256color or similar",
          "when": "Terminal settings"
        }
      ]
    },
    {
      "id": "wrong_week_start",
      "pattern": "sunday|monday|week start",
      "message": "Week starts on wrong day",
      "cause": "Different conventions for week start (Sun vs Mon)",
      "solutions": [
        {
          "approach": "Monday start",
          "code": "cal -m  # Week starts Monday (if supported)",
          "when": "ISO week"
        },
        {
          "approach": "ncal format",
          "code": "ncal -M  # Monday start, vertical format",
          "when": "Alternative layout"
        },
        {
          "approach": "Set locale",
          "code": "LC_TIME=en_GB.UTF-8 cal  # UK starts Monday",
          "when": "Locale-based"
        }
      ]
    },
    {
      "id": "three_month_view",
      "pattern": "previous|next|3 month|adjacent",
      "message": "Want to see surrounding months",
      "cause": "Default shows single month",
      "solutions": [
        {
          "approach": "Three months",
          "code": "cal -3  # Previous, current, next month",
          "when": "Context view"
        },
        {
          "approach": "Full year",
          "code": "cal -y 2024  # Entire year",
          "when": "Year view"
        },
        {
          "approach": "Multiple months",
          "code": "cal 2024 | head -30  # First several months",
          "when": "Custom range"
        }
      ]
    },
    {
      "id": "julian_dates",
      "pattern": "julian|day of year|ordinal",
      "message": "Want day-of-year numbers",
      "cause": "Julian day format not default",
      "solutions": [
        {
          "approach": "Julian format",
          "code": "cal -j  # Show day-of-year (1-365/366)",
          "when": "Ordinal dates"
        },
        {
          "approach": "Current Julian day",
          "code": "date '+%j'  # Today's day of year",
          "when": "Just today"
        }
      ]
    }
  ]
}
