{
  "tool": "mongosh",
  "category": "database_client",
  "common_errors": [
    {
      "error_pattern": "MongoNetworkError.*connect ECONNREFUSED",
      "cause": "MongoDB server not running or listening on different port",
      "solution": "Start MongoDB: sudo systemctl start mongod. Check bindIp and port in mongod.conf.",
      "severity": "error"
    },
    {
      "error_pattern": "Authentication failed",
      "cause": "Wrong username, password, or authentication database",
      "solution": "Specify auth db: mongosh -u user -p pass --authenticationDatabase admin",
      "severity": "error"
    },
    {
      "error_pattern": "not authorized on.*to execute command",
      "cause": "User lacks required role/privilege for this operation",
      "solution": "Grant role: db.grantRolesToUser('user', ['readWrite']). Use admin for user management.",
      "severity": "error"
    },
    {
      "error_pattern": "MongoServerSelectionError",
      "cause": "Cannot find suitable server (replica set issues, all servers down)",
      "solution": "Check replica set status: rs.status(). Verify connection string includes all members.",
      "severity": "error"
    },
    {
      "error_pattern": "connection.*timed out",
      "cause": "Network timeout reaching MongoDB server",
      "solution": "Check network connectivity. Firewall may block port 27017. Increase timeout.",
      "severity": "error"
    },
    {
      "error_pattern": "SyntaxError",
      "cause": "JavaScript syntax error in shell command",
      "solution": "Check JS syntax. Common: missing quotes, unmatched braces, invalid JSON.",
      "severity": "error"
    },
    {
      "error_pattern": "cannot do raw queries on admin",
      "cause": "Trying to query admin database directly in certain ways",
      "solution": "Switch to appropriate database: use mydb. Admin is for system collections.",
      "severity": "error"
    },
    {
      "error_pattern": "not primary and secondaryOk=false",
      "cause": "Read from secondary not allowed (replica set)",
      "solution": "Connect to primary, or enable secondary reads: rs.secondaryOk()",
      "severity": "error"
    },
    {
      "error_pattern": "SSL handshake failed",
      "cause": "TLS/SSL configuration mismatch between client and server",
      "solution": "Check TLS settings. Use --tls flag. Verify certificate is valid.",
      "severity": "error"
    },
    {
      "error_pattern": "ns not found",
      "cause": "Collection or namespace doesn't exist",
      "solution": "Check collection name: show collections. MongoDB auto-creates on first write.",
      "severity": "error"
    }
  ]
}
