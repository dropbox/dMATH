{
  "tool": "ws",
  "category": "websocket",
  "description": "Node.js WebSocket library",
  "errors": [
    {
      "pattern": "ECONNREFUSED|connection refused",
      "meaning": "Cannot connect to WebSocket server",
      "causes": ["Server not running", "Wrong host/port", "Firewall blocking"],
      "solutions": ["Start WebSocket server", "Check connection URL", "Verify firewall rules"]
    },
    {
      "pattern": "WebSocket.*not open|CLOSING|CLOSED",
      "meaning": "Sending on closed connection",
      "causes": ["Connection dropped", "Send after close", "Server disconnected"],
      "solutions": ["Check ws.readyState before sending", "Handle close event", "Implement reconnection logic"]
    },
    {
      "pattern": "EADDRINUSE",
      "meaning": "Port already in use",
      "causes": ["Another process on port", "Previous instance still running", "Port not released"],
      "solutions": ["Use different port", "Kill process using port", "Wait for port release"]
    },
    {
      "pattern": "Invalid.*frame.*close.*code",
      "meaning": "Invalid close code sent",
      "causes": ["Using reserved close code", "Non-standard code", "Wrong argument type"],
      "solutions": ["Use standard close codes (1000-4999)", "Check close code values", "Use ws.close(1000)"]
    },
    {
      "pattern": "Max payload.*exceeded",
      "meaning": "Message too large",
      "causes": ["Message exceeds maxPayload", "Server/client limit mismatch", "Large file transfer"],
      "solutions": ["Increase maxPayload option", "Chunk large messages", "Use different protocol for files"]
    },
    {
      "pattern": "Upgrade.*failed|HTTP/1.1 400|403",
      "meaning": "WebSocket upgrade rejected",
      "causes": ["Server rejected upgrade", "Missing headers", "Authentication failed"],
      "solutions": ["Check server requirements", "Add required headers", "Handle authentication"]
    },
    {
      "pattern": "RangeError.*Invalid WebSocket frame",
      "meaning": "Malformed WebSocket frame",
      "causes": ["Corrupted data", "Protocol mismatch", "Proxy interference"],
      "solutions": ["Check for proxy issues", "Verify WebSocket protocol", "Debug frame data"]
    },
    {
      "pattern": "certificate.*verify|UNABLE_TO_VERIFY_LEAF_SIGNATURE",
      "meaning": "TLS certificate issue",
      "causes": ["Self-signed certificate", "Expired certificate", "Hostname mismatch"],
      "solutions": ["Use valid certificate", "Add rejectUnauthorized: false for dev", "Check certificate chain"]
    }
  ]
}
