{
  "tool": "psql",
  "category": "database_client",
  "common_errors": [
    {
      "error_pattern": "FATAL:.*password authentication failed",
      "cause": "Wrong password or user doesn't exist",
      "solution": "Check password. Reset with: ALTER USER user PASSWORD 'newpass'; Check pg_hba.conf auth method.",
      "severity": "error"
    },
    {
      "error_pattern": "FATAL:.*database .* does not exist",
      "cause": "Database name is incorrect or database hasn't been created",
      "solution": "List databases: psql -l. Create: CREATE DATABASE dbname;",
      "severity": "error"
    },
    {
      "error_pattern": "could not connect to server: Connection refused",
      "cause": "PostgreSQL server not running or listening on different host/port",
      "solution": "Start server: sudo systemctl start postgresql. Check host/port in postgresql.conf.",
      "severity": "error"
    },
    {
      "error_pattern": "FATAL:.*role .* does not exist",
      "cause": "PostgreSQL user/role doesn't exist",
      "solution": "Create role: sudo -u postgres createuser <name>. Or: CREATE ROLE name LOGIN;",
      "severity": "error"
    },
    {
      "error_pattern": "could not connect.*No such file or directory",
      "cause": "Unix socket file missing (server not running or wrong socket path)",
      "solution": "Check server running. Use -h localhost to connect via TCP instead of socket.",
      "severity": "error"
    },
    {
      "error_pattern": "FATAL:.*Peer authentication failed",
      "cause": "Peer auth requires OS user = PostgreSQL user, but they don't match",
      "solution": "Use -U to specify correct user, or configure pg_hba.conf for md5/scram-sha-256 auth.",
      "severity": "error"
    },
    {
      "error_pattern": "permission denied for table",
      "cause": "User lacks privileges on the table",
      "solution": "Grant access: GRANT SELECT ON table TO user; Or use table owner account.",
      "severity": "error"
    },
    {
      "error_pattern": "SSL connection is required",
      "cause": "Server requires SSL but client isn't using it",
      "solution": "Use sslmode=require: psql \"sslmode=require host=...\" or set in connection string.",
      "severity": "error"
    },
    {
      "error_pattern": "could not translate host name",
      "cause": "DNS resolution failed for database hostname",
      "solution": "Check hostname spelling. Use IP address instead. Verify DNS configuration.",
      "severity": "error"
    },
    {
      "error_pattern": "syntax error at or near",
      "cause": "SQL syntax error in query",
      "solution": "Check SQL syntax. Common issues: missing quotes, wrong keyword, missing semicolon.",
      "severity": "error"
    }
  ]
}
