{
  "tool": "bootctl",
  "category": "boot_management",
  "common_errors": [
    {
      "error_pattern": "Not booted with EFI",
      "cause": "System booted in BIOS mode, not UEFI",
      "solution": "bootctl requires UEFI boot. For BIOS, use GRUB instead.",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to find EFI system partition",
      "cause": "ESP not mounted or not found at expected location",
      "solution": "Mount ESP: mount /dev/sdX1 /boot/efi. Or use --esp-path to specify location.",
      "severity": "error"
    },
    {
      "error_pattern": "Access denied",
      "cause": "Operation requires root privileges",
      "solution": "Use sudo: sudo bootctl install",
      "severity": "error"
    },
    {
      "error_pattern": "EFI variables are not supported",
      "cause": "efivarfs not mounted or kernel lacks EFI variable support",
      "solution": "Mount efivarfs: mount -t efivarfs efivarfs /sys/firmware/efi/efivars",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to install boot loader",
      "cause": "Cannot write to ESP or filesystem full",
      "solution": "Check ESP permissions and free space: df -h /boot/efi. Mount as rw.",
      "severity": "error"
    },
    {
      "error_pattern": "No loader entries found",
      "cause": "No boot loader entry files in ESP",
      "solution": "Create entries in /boot/efi/loader/entries/*.conf. See loader.conf(5).",
      "severity": "warning"
    },
    {
      "error_pattern": "Specified ESP.*is not FAT",
      "cause": "ESP must be FAT32 filesystem",
      "solution": "Format as FAT32: mkfs.vfat -F32 /dev/sdX1",
      "severity": "error"
    },
    {
      "error_pattern": "Cannot install.*older than running",
      "cause": "Trying to install older systemd-boot than currently installed",
      "solution": "Use --force to override, or update to newer version first.",
      "severity": "error"
    },
    {
      "error_pattern": "Secure Boot is enabled",
      "cause": "Operation blocked by Secure Boot restrictions",
      "solution": "Disable Secure Boot in BIOS, or sign bootloader with enrolled keys.",
      "severity": "error"
    },
    {
      "error_pattern": "XBOOTLDR partition not found",
      "cause": "Extended boot partition specified but not present",
      "solution": "Create XBOOTLDR partition or don't use --xbootldr-path option.",
      "severity": "error"
    }
  ]
}
