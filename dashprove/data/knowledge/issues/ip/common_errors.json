{
  "tool": "ip",
  "version": "iproute2",
  "last_updated": "2025-12-23",
  "errors": [
    {
      "id": "operation_not_permitted",
      "pattern": "Operation not permitted|RTNETLINK answers: Operation not permitted",
      "message": "Need root privileges",
      "cause": "Network configuration requires root",
      "solutions": [
        {
          "approach": "Use sudo",
          "code": "sudo ip addr add 192.168.1.100/24 dev eth0\nsudo ip link set eth0 up",
          "when": "Standard method"
        }
      ]
    },
    {
      "id": "device_not_found",
      "pattern": "Cannot find device|Device .* does not exist|RTNETLINK answers: No such device",
      "message": "Network interface not found",
      "cause": "Interface name wrong or not present",
      "solutions": [
        {
          "approach": "List interfaces",
          "code": "ip link show\nip a  # Short for ip addr",
          "when": "Find correct name"
        },
        {
          "approach": "Common names",
          "code": "# Modern: eth0, ens33, enp0s3, wlan0, wlp2s0\n# Docker: docker0, br-xxx, veth-xxx\nip link show | grep -E '^[0-9]+'",
          "when": "Naming conventions"
        }
      ]
    },
    {
      "id": "file_exists",
      "pattern": "RTNETLINK answers: File exists",
      "message": "Address already assigned",
      "cause": "IP address already configured",
      "solutions": [
        {
          "approach": "Delete first",
          "code": "sudo ip addr del 192.168.1.100/24 dev eth0\nsudo ip addr add 192.168.1.101/24 dev eth0",
          "when": "Replace address"
        },
        {
          "approach": "Check existing",
          "code": "ip addr show eth0",
          "when": "See current config"
        },
        {
          "approach": "Flush and add",
          "code": "sudo ip addr flush dev eth0\nsudo ip addr add 192.168.1.100/24 dev eth0",
          "when": "Clean slate"
        }
      ]
    },
    {
      "id": "network_unreachable",
      "pattern": "Network is unreachable|RTNETLINK answers: Network is unreachable",
      "message": "Network unreachable",
      "cause": "No route to destination network",
      "solutions": [
        {
          "approach": "Add default route",
          "code": "sudo ip route add default via 192.168.1.1",
          "when": "Missing gateway"
        },
        {
          "approach": "Check routes",
          "code": "ip route show\nip route get 8.8.8.8",
          "when": "Debug routing"
        },
        {
          "approach": "Add specific route",
          "code": "sudo ip route add 10.0.0.0/8 via 192.168.1.254",
          "when": "Specific network"
        }
      ]
    },
    {
      "id": "invalid_prefix",
      "pattern": "Error: Invalid prefix|Invalid prefix length",
      "message": "Invalid CIDR notation",
      "cause": "Wrong subnet mask format",
      "solutions": [
        {
          "approach": "CIDR format",
          "code": "# Correct: 192.168.1.100/24\n# Not: 192.168.1.100/255.255.255.0\nsudo ip addr add 192.168.1.100/24 dev eth0",
          "when": "Use /prefix"
        },
        {
          "approach": "Common prefixes",
          "code": "/32 = single host\n/24 = 255.255.255.0 (256 hosts)\n/16 = 255.255.0.0 (65536 hosts)\n/8 = 255.0.0.0",
          "when": "Reference"
        }
      ]
    },
    {
      "id": "interface_down",
      "pattern": "link/ether.*state DOWN|state DOWN|LOWER_UP",
      "message": "Interface is down",
      "cause": "Network interface not enabled",
      "solutions": [
        {
          "approach": "Bring up",
          "code": "sudo ip link set eth0 up",
          "when": "Enable interface"
        },
        {
          "approach": "Check state",
          "code": "ip link show eth0\n# Look for state UP/DOWN",
          "when": "Verify status"
        }
      ]
    },
    {
      "id": "command_not_found",
      "pattern": "ip: command not found",
      "message": "iproute2 not installed",
      "cause": "Package not installed (minimal systems)",
      "solutions": [
        {
          "approach": "Install iproute2",
          "code": "sudo apt install iproute2  # Debian\nsudo yum install iproute  # RHEL",
          "when": "Install package"
        },
        {
          "approach": "Use legacy",
          "code": "ifconfig eth0\nroute -n\nnetstat -rn",
          "when": "Old tools fallback"
        }
      ]
    }
  ]
}
