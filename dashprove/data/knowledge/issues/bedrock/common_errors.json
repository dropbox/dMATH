{
  "tool": "bedrock",
  "category": "aws_ai",
  "description": "Amazon Bedrock - foundation model service for generative AI",
  "common_errors": [
    {
      "id": "access_denied",
      "pattern": "AccessDeniedException",
      "regex": "(?i)access.*denied|not.*authorized|model.*access|enable.*model.*access",
      "cause": "Model access not enabled or IAM permissions missing",
      "solution": "Request model access in Bedrock Console, add bedrock:InvokeModel permission to IAM policy",
      "severity": "high",
      "category": "permissions"
    },
    {
      "id": "model_not_found",
      "pattern": "ModelNotFound",
      "regex": "(?i)model.*not.*found|invalid.*model.*id|unsupported.*model|model.*unavailable",
      "cause": "Specified model ID does not exist or is not available in region",
      "solution": "Verify model ID, check model is available in target region, use list-foundation-models API",
      "severity": "high",
      "category": "models"
    },
    {
      "id": "throttling",
      "pattern": "ThrottlingException",
      "regex": "(?i)throttl|rate.*limit|too.*many.*requests|requests.*per.*minute|quota.*exceeded",
      "cause": "API rate limit or token quota exceeded",
      "solution": "Implement exponential backoff, request quota increase, consider provisioned throughput",
      "severity": "medium",
      "category": "limits"
    },
    {
      "id": "validation_error",
      "pattern": "ValidationException",
      "regex": "(?i)validation.*error|invalid.*parameter|invalid.*input|malformed.*request",
      "cause": "Request validation failed",
      "solution": "Check input format matches model requirements, verify max tokens within limits, review prompt format",
      "severity": "medium",
      "category": "input"
    },
    {
      "id": "content_filter",
      "pattern": "ContentFilteredException",
      "regex": "(?i)content.*filter|blocked.*content|safety.*guardrail|harmful.*content",
      "cause": "Content blocked by Bedrock guardrails or model safety filters",
      "solution": "Review content for policy violations, adjust guardrails configuration, rephrase prompts",
      "severity": "medium",
      "category": "content"
    },
    {
      "id": "context_length",
      "pattern": "context length",
      "regex": "(?i)context.*length|token.*limit|max.*tokens|input.*too.*long",
      "cause": "Input exceeds model's maximum context length",
      "solution": "Reduce input length, use chunking strategy, select model with larger context window",
      "severity": "medium",
      "category": "input"
    },
    {
      "id": "timeout",
      "pattern": "Timeout",
      "regex": "(?i)timeout|request.*timeout|response.*timeout|lambda.*timeout",
      "cause": "Request timed out waiting for model response",
      "solution": "Increase client timeout, reduce max_tokens for faster response, use streaming for long responses",
      "severity": "medium",
      "category": "performance"
    },
    {
      "id": "service_unavailable",
      "pattern": "ServiceUnavailable",
      "regex": "(?i)service.*unavailable|503|temporarily.*unavailable|capacity",
      "cause": "Bedrock service temporarily unavailable",
      "solution": "Retry with exponential backoff, check AWS status page, try different region",
      "severity": "high",
      "category": "availability"
    },
    {
      "id": "provisioned_throughput",
      "pattern": "ProvisionedThroughput",
      "regex": "(?i)provisioned.*throughput|commitment.*term|no.*capacity|insufficient.*throughput",
      "cause": "Provisioned throughput not configured or exhausted",
      "solution": "Purchase provisioned throughput, increase commitment, check utilization metrics",
      "severity": "medium",
      "category": "capacity"
    },
    {
      "id": "knowledge_base_error",
      "pattern": "KnowledgeBase",
      "regex": "(?i)knowledge.*base|retrieval.*error|vector.*store|embedding.*error|opensearch",
      "cause": "Bedrock Knowledge Base retrieval failed",
      "solution": "Check OpenSearch Serverless collection status, verify data source sync, review index configuration",
      "severity": "medium",
      "category": "rag"
    }
  ],
  "related_tools": ["aws_cli", "lambda", "sagemaker"],
  "documentation_url": "https://docs.aws.amazon.com/bedrock/"
}
