{
  "tool": "azure_cli",
  "category": "cloud_cli",
  "common_errors": [
    {
      "pattern": "AADSTS.*error",
      "meaning": "Azure AD authentication error",
      "causes": ["Token expired", "Invalid credentials", "MFA required"],
      "solutions": ["Run az login again", "Clear token cache: az account clear", "Complete MFA challenge"]
    },
    {
      "pattern": "Please run 'az login'",
      "meaning": "Not authenticated to Azure",
      "causes": ["No active session", "Token expired", "Account cleared"],
      "solutions": ["Run az login", "Use az login --service-principal for automation", "Check ~/.azure/ credentials"]
    },
    {
      "pattern": "AuthorizationFailed",
      "meaning": "RBAC authorization denied",
      "causes": ["Missing role assignment", "Wrong scope", "Deny assignment blocks"],
      "solutions": ["Assign required RBAC role", "Check role scope", "Review deny assignments"]
    },
    {
      "pattern": "ResourceNotFound",
      "meaning": "Resource doesn't exist",
      "causes": ["Resource deleted", "Wrong subscription", "Wrong resource group"],
      "solutions": ["Verify resource exists", "Check subscription: az account show", "Verify resource group"]
    },
    {
      "pattern": "The subscription.*could not be found",
      "meaning": "Subscription not accessible",
      "causes": ["Subscription disabled", "No access to subscription", "Wrong subscription ID"],
      "solutions": ["Check subscription status", "Request subscription access", "Verify subscription ID"]
    },
    {
      "pattern": "ResourceGroupNotFound",
      "meaning": "Resource group doesn't exist",
      "causes": ["RG deleted", "Wrong subscription context", "Typo in name"],
      "solutions": ["Create resource group", "Set correct subscription", "Verify RG name"]
    },
    {
      "pattern": "QuotaExceeded",
      "meaning": "Subscription quota exceeded",
      "causes": ["VM/core quota hit", "Storage limit reached", "Public IP limit"],
      "solutions": ["Request quota increase", "Delete unused resources", "Use different region"]
    },
    {
      "pattern": "InvalidTemplateDeployment",
      "meaning": "ARM template deployment failed",
      "causes": ["Template syntax error", "Parameter invalid", "Resource conflict"],
      "solutions": ["Validate template: az deployment group validate", "Check parameter values", "Review deployment errors"]
    },
    {
      "pattern": "Conflict",
      "meaning": "Resource state conflict",
      "causes": ["Resource being modified", "Concurrent operation", "State transition invalid"],
      "solutions": ["Wait and retry", "Check resource state", "Avoid concurrent modifications"]
    },
    {
      "pattern": "The client.*does not have authorization",
      "meaning": "Service principal/managed identity lacks permission",
      "causes": ["SP not assigned role", "Role scope wrong", "Permission propagation delay"],
      "solutions": ["Assign required role to SP/MI", "Check role scope covers resource", "Wait for RBAC propagation (~5 min)"]
    }
  ],
  "debugging_commands": [
    "az account show",
    "az account list",
    "az ad signed-in-user show",
    "az role assignment list --assignee <sp-id>",
    "az --debug <command>"
  ],
  "documentation_urls": [
    "https://docs.microsoft.com/en-us/cli/azure/",
    "https://github.com/Azure/azure-cli"
  ]
}
