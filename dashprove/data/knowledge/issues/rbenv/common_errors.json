{
  "tool": "rbenv",
  "category": "version_manager",
  "common_errors": [
    {
      "pattern": "rbenv: command not found",
      "cause": "rbenv not initialized in shell",
      "solutions": [
        "Add to profile: eval \"$(rbenv init -)\"",
        "Ensure ~/.rbenv/bin is in PATH",
        "Restart shell after installation"
      ]
    },
    {
      "pattern": "rbenv: version.*not installed",
      "cause": "Ruby version not installed",
      "solutions": [
        "Install: 'rbenv install <version>'",
        "List available: 'rbenv install -l'",
        "Use ruby-build for installation"
      ]
    },
    {
      "pattern": "BUILD FAILED.*Ruby",
      "cause": "Missing build dependencies",
      "solutions": [
        "Install build deps (macOS): brew install rbenv ruby-build",
        "Install build deps (Ubuntu): apt-get install libssl-dev libreadline-dev zlib1g-dev",
        "Check ruby-build wiki for deps"
      ]
    },
    {
      "pattern": "rbenv: no such command",
      "cause": "Plugin not installed",
      "solutions": [
        "Install plugin: git clone to ~/.rbenv/plugins/",
        "Use rbenv-installer for common plugins",
        "Check command spelling"
      ]
    },
    {
      "pattern": "The Ruby openssl.*is not compiled",
      "cause": "OpenSSL version mismatch or missing",
      "solutions": [
        "Specify OpenSSL: RUBY_CONFIGURE_OPTS=\"--with-openssl-dir=/usr/local/opt/openssl\"",
        "Install OpenSSL 1.1 for older Ruby",
        "Use OpenSSL 3.0 for Ruby 3.1+"
      ]
    },
    {
      "pattern": "shims.*not in PATH",
      "cause": "rbenv shims not first in PATH",
      "solutions": [
        "Ensure eval \"$(rbenv init -)\" is in profile",
        "Check ~/.rbenv/shims is before /usr/bin",
        "Verify with 'which ruby'"
      ]
    },
    {
      "pattern": "rbenv: gem:.*not found",
      "cause": "Gem executable needs rehash",
      "solutions": [
        "Run 'rbenv rehash'",
        "Auto-rehash: install rbenv-gem-rehash plugin",
        "Reinstall the gem"
      ]
    },
    {
      "pattern": "You don't have.*in your PATH",
      "cause": "Gem bin directory not in PATH",
      "solutions": [
        "Add gem bin to PATH: export PATH=\"$HOME/.rbenv/versions/.../bin:$PATH\"",
        "Run rbenv rehash after gem install",
        "Use bundle exec for project gems"
      ]
    },
    {
      "pattern": "ruby-build:.*definition not found",
      "cause": "ruby-build definitions outdated",
      "solutions": [
        "Update ruby-build: cd ~/.rbenv/plugins/ruby-build && git pull",
        "Install newer ruby-build",
        "Specify custom definition file"
      ]
    },
    {
      "pattern": "Ignoring.*because its extensions are not built",
      "cause": "Native extensions failed to build",
      "solutions": [
        "Reinstall gem: gem pristine --all",
        "Install system dependencies for native extensions",
        "Check error log in gem install output"
      ]
    }
  ]
}
