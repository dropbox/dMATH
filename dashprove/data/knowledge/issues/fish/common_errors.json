{
  "tool": "fish",
  "version": "3.7",
  "last_updated": "2025-12-23",
  "errors": [
    {
      "id": "unsupported_syntax",
      "pattern": "fish.*syntax|unsupported.*feature|not.*supported",
      "message": "Unsupported bash/POSIX syntax",
      "cause": "Using bash syntax that doesn't work in fish",
      "solutions": [
        {
          "approach": "Variable assignment",
          "code": "set VAR value  # Not VAR=value",
          "when": "Setting variables"
        },
        {
          "approach": "Command substitution",
          "code": "(command)  # Not $(command) or `command`",
          "when": "Capturing output"
        },
        {
          "approach": "Export variable",
          "code": "set -x VAR value  # Not export VAR=value",
          "when": "Environment variables"
        }
      ]
    },
    {
      "id": "function_not_found",
      "pattern": "Unknown command.*function|function.*not found",
      "message": "Function not found",
      "cause": "Function not defined or autoload not working",
      "solutions": [
        {
          "approach": "Create function file",
          "code": "~/.config/fish/functions/funcname.fish",
          "when": "Autoload function"
        },
        {
          "approach": "Source manually",
          "code": "source ~/.config/fish/functions/funcname.fish",
          "when": "Load immediately"
        },
        {
          "approach": "Check function path",
          "code": "echo $fish_function_path",
          "when": "Verify function directories"
        }
      ]
    },
    {
      "id": "test_syntax",
      "pattern": "test.*requires|expected.*test",
      "message": "Test command syntax error",
      "cause": "Using bash-style test syntax",
      "solutions": [
        {
          "approach": "Use fish test syntax",
          "code": "test -f file; and echo exists\n# Or: if test -f file; ...; end",
          "when": "Basic conditionals"
        },
        {
          "approach": "String comparison",
          "code": "test \"$var\" = \"value\"  # Quotes important",
          "when": "Comparing strings"
        },
        {
          "approach": "Numeric comparison",
          "code": "test $num -eq 5",
          "when": "Comparing numbers"
        }
      ]
    },
    {
      "id": "missing_end",
      "pattern": "Missing end|expected.*end",
      "message": "Missing 'end' keyword",
      "cause": "Block not properly closed",
      "solutions": [
        {
          "approach": "Close if block",
          "code": "if condition\n    commands\nend",
          "when": "If statement"
        },
        {
          "approach": "Close function",
          "code": "function name\n    commands\nend",
          "when": "Function definition"
        },
        {
          "approach": "Close for loop",
          "code": "for item in list\n    commands\nend",
          "when": "For loop"
        }
      ]
    },
    {
      "id": "variable_scope",
      "pattern": "variable.*scope|undefined.*variable",
      "message": "Variable scope issue",
      "cause": "Variable not visible in current scope",
      "solutions": [
        {
          "approach": "Use global scope",
          "code": "set -g VAR value",
          "when": "Need global variable"
        },
        {
          "approach": "Use universal scope",
          "code": "set -U VAR value",
          "when": "Persist across sessions"
        },
        {
          "approach": "Use local scope",
          "code": "set -l VAR value",
          "when": "Function-local variable"
        }
      ]
    },
    {
      "id": "string_expansion",
      "pattern": "string.*expansion|variable.*expansion",
      "message": "String expansion issue",
      "cause": "Variables not expanding as expected",
      "solutions": [
        {
          "approach": "Use double quotes",
          "code": "echo \"$VAR\"  # Expands variable",
          "when": "Want expansion"
        },
        {
          "approach": "Use single quotes",
          "code": "echo '$VAR'  # Literal string",
          "when": "Prevent expansion"
        },
        {
          "approach": "List expansion",
          "code": "for f in $list  # No quotes for list iteration",
          "when": "Iterate over list"
        }
      ]
    },
    {
      "id": "path_not_set",
      "pattern": "PATH.*not.*set|fish_user_paths",
      "message": "PATH not configured properly",
      "cause": "PATH modification done incorrectly",
      "solutions": [
        {
          "approach": "Add to fish_user_paths",
          "code": "fish_add_path /new/path",
          "when": "Permanent PATH addition"
        },
        {
          "approach": "Prepend to PATH",
          "code": "set -p PATH /new/path",
          "when": "Add to front of PATH"
        },
        {
          "approach": "Append to PATH",
          "code": "set -a PATH /new/path",
          "when": "Add to end of PATH"
        }
      ]
    }
  ]
}
