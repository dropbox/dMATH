{
  "tool": "airflow",
  "category": "workflow_orchestration",
  "description": "Apache Airflow - platform for programmatically authoring, scheduling, and monitoring workflows",
  "common_errors": [
    {
      "id": "dag_import_error",
      "pattern": "DAG Import Error",
      "regex": "(?i)dag import error|import.*error|broken dag|failed to import",
      "cause": "Python syntax error or import failure in DAG file",
      "solution": "Check DAG file syntax with 'python your_dag.py', verify imports are installed",
      "severity": "high",
      "category": "dags"
    },
    {
      "id": "database_connection_error",
      "pattern": "database connection error",
      "regex": "(?i)database.*connection|unable to connect.*database|metadata.*error|operationalerror",
      "cause": "Cannot connect to Airflow metadata database",
      "solution": "Check sql_alchemy_conn in airflow.cfg, verify database is running, run 'airflow db check'",
      "severity": "critical",
      "category": "database"
    },
    {
      "id": "scheduler_not_running",
      "pattern": "scheduler not running",
      "regex": "(?i)scheduler.*not running|no.*scheduler|scheduler.*dead|heartbeat",
      "cause": "Airflow scheduler is not running",
      "solution": "Start scheduler with 'airflow scheduler', check for crashes in logs",
      "severity": "critical",
      "category": "scheduler"
    },
    {
      "id": "task_failed",
      "pattern": "Task failed",
      "regex": "(?i)task.*failed|task.*error|upstream.*failed|exception",
      "cause": "Task execution failed with error",
      "solution": "Check task logs in UI/CLI, review exception traceback, verify operator configuration",
      "severity": "medium",
      "category": "tasks"
    },
    {
      "id": "connection_not_found",
      "pattern": "connection not found",
      "regex": "(?i)connection.*not found|conn_id.*invalid|airflow\\.exceptions\\.AirflowNotFoundException",
      "cause": "Airflow connection ID does not exist",
      "solution": "Create connection in UI (Admin > Connections) or via CLI 'airflow connections add'",
      "severity": "medium",
      "category": "connections"
    },
    {
      "id": "variable_not_found",
      "pattern": "variable not found",
      "regex": "(?i)variable.*not found|Variable.*does not exist|KeyError.*Variable",
      "cause": "Airflow variable does not exist",
      "solution": "Create variable in UI (Admin > Variables) or via CLI 'airflow variables set'",
      "severity": "medium",
      "category": "variables"
    },
    {
      "id": "executor_error",
      "pattern": "executor error",
      "regex": "(?i)executor.*error|celery.*error|kubernetes.*executor|worker.*failed",
      "cause": "Task executor (Celery/Kubernetes/Local) failed",
      "solution": "Check executor configuration, verify workers are running, review executor logs",
      "severity": "high",
      "category": "executor"
    },
    {
      "id": "dag_not_found",
      "pattern": "DAG not found",
      "regex": "(?i)dag.*not found|dag_id.*invalid|DAG does not exist",
      "cause": "DAG ID does not exist or is not loaded",
      "solution": "Check DAG file is in dags_folder, verify dag_id matches, wait for scheduler parsing",
      "severity": "medium",
      "category": "dags"
    },
    {
      "id": "pool_exhausted",
      "pattern": "pool exhausted",
      "regex": "(?i)pool.*exhausted|no slots available|pool.*full|running slots",
      "cause": "Task pool has no available slots",
      "solution": "Increase pool slots in UI, check running tasks, wait for slots to free",
      "severity": "medium",
      "category": "pools"
    },
    {
      "id": "permission_error",
      "pattern": "permission denied",
      "regex": "(?i)permission denied|access denied|rbac.*error|forbidden",
      "cause": "User lacks required Airflow RBAC permissions",
      "solution": "Check user roles in Admin > Users, assign appropriate permissions",
      "severity": "medium",
      "category": "authentication"
    }
  ],
  "related_tools": ["dbt", "prefect", "dagster", "luigi"],
  "documentation_url": "https://airflow.apache.org/docs/"
}
