{
  "tool": "buf",
  "category": "protobuf_tooling",
  "common_errors": [
    {
      "error_pattern": "buf.yaml.*not found",
      "description": "Cannot find buf configuration file",
      "causes": [
        "buf.yaml missing from directory",
        "Running buf from wrong directory",
        "Incorrect workspace configuration"
      ],
      "solutions": [
        "Create buf.yaml: buf config init",
        "Run buf from directory containing buf.yaml",
        "Check buf.work.yaml for workspace setup"
      ]
    },
    {
      "error_pattern": "FIELD_SAME_NAME",
      "description": "Buf lint detected same name conflict",
      "causes": [
        "Field names differ only in case",
        "Snake_case and camelCase collision",
        "Proto3 name normalization conflict"
      ],
      "solutions": [
        "Rename field to be unique",
        "Use consistent naming convention",
        "Add to lint ignore if intentional"
      ]
    },
    {
      "error_pattern": "ENUM_ZERO_VALUE_SUFFIX",
      "description": "First enum value should have _UNSPECIFIED suffix",
      "causes": [
        "Enum doesn't follow buf lint style",
        "Missing zero value with _UNSPECIFIED"
      ],
      "solutions": [
        "Rename first enum: STATUS_UNSPECIFIED = 0",
        "Add _UNSPECIFIED suffix to zero value",
        "Configure lint rule if different convention"
      ]
    },
    {
      "error_pattern": "breaking change detected",
      "description": "Buf detected backward-incompatible change",
      "causes": [
        "Field number changed",
        "Field type changed incompatibly",
        "Required field removed",
        "Enum value removed"
      ],
      "solutions": [
        "Revert the breaking change",
        "Use new field instead of modifying existing",
        "Reserve removed field numbers",
        "buf breaking --against '.git#branch=main'"
      ]
    },
    {
      "error_pattern": "IMPORT_NO_PUBLIC",
      "description": "Using public import (not recommended)",
      "causes": [
        "import public statement in proto",
        "Transitive dependency exposure"
      ],
      "solutions": [
        "Replace with regular import",
        "Import directly where needed",
        "Disable rule if public import intended"
      ]
    },
    {
      "error_pattern": "PACKAGE_DIRECTORY_MATCH",
      "description": "Proto package doesn't match directory structure",
      "causes": [
        "Package name differs from directory path",
        "Proto file in wrong directory"
      ],
      "solutions": [
        "Move proto to matching directory",
        "Update package name to match path",
        "Configure lint exception if needed"
      ]
    },
    {
      "error_pattern": "RPC_REQUEST_STANDARD_NAME",
      "description": "RPC request message doesn't follow naming convention",
      "causes": [
        "Request message not named MethodNameRequest",
        "Using generic message for multiple RPCs"
      ],
      "solutions": [
        "Rename to: rpc GetUser(GetUserRequest)",
        "Create dedicated request message per RPC",
        "Configure lint rule for different style"
      ]
    },
    {
      "error_pattern": "buf generate.*plugin not found",
      "description": "Code generation plugin not installed",
      "causes": [
        "Plugin binary not in PATH",
        "Plugin name misspelled in buf.gen.yaml",
        "Remote plugin unavailable"
      ],
      "solutions": [
        "Install plugin: go install google.golang.org/protobuf/cmd/protoc-gen-go",
        "Add plugin directory to PATH",
        "Use remote plugins: buf.build/protocolbuffers/go",
        "Check buf.gen.yaml plugin configuration"
      ]
    },
    {
      "error_pattern": "module.*not found.*BSR",
      "description": "Cannot resolve module from Buf Schema Registry",
      "causes": [
        "Module not published to BSR",
        "Authentication required",
        "Module name typo"
      ],
      "solutions": [
        "Verify module exists on buf.build",
        "Login: buf registry login",
        "Check buf.yaml deps configuration",
        "Use buf export to cache locally"
      ]
    },
    {
      "error_pattern": "WIRE_JSON_REQUIRES",
      "description": "Breaking change in wire or JSON format",
      "causes": [
        "Field JSON name changed",
        "Wire format compatibility broken"
      ],
      "solutions": [
        "Preserve original json_name option",
        "Use json_name option explicitly",
        "Check wire format compatibility"
      ]
    },
    {
      "error_pattern": "SERVICE_SUFFIX",
      "description": "Service name doesn't have expected suffix",
      "causes": [
        "Service name doesn't end with Service",
        "Different naming convention used"
      ],
      "solutions": [
        "Rename: service UserService {}",
        "Configure lint to allow different style",
        "Add ignore comment for exception"
      ]
    },
    {
      "error_pattern": "COMMENT_.*",
      "description": "Missing or malformed documentation comment",
      "causes": [
        "Message/field/enum missing comment",
        "Comment not in expected format"
      ],
      "solutions": [
        "Add documentation comment above item",
        "Use // Comment format (not /* */)",
        "Configure lint level for comments"
      ]
    }
  ]
}
