{
  "tool": "dbt",
  "category": "data_transformation",
  "description": "dbt (data build tool) - SQL-based data transformation and modeling",
  "common_errors": [
    {
      "id": "connection_failed",
      "pattern": "connection failed",
      "regex": "(?i)connection failed|unable to connect|database.*error|connection refused",
      "cause": "Cannot connect to data warehouse",
      "solution": "Check profiles.yml credentials, verify warehouse is accessible, test with 'dbt debug'",
      "severity": "high",
      "category": "connectivity"
    },
    {
      "id": "profile_not_found",
      "pattern": "profile not found",
      "regex": "(?i)profile.*not found|Could not find profile|invalid.*profile|no.*profile",
      "cause": "dbt profile not found or misconfigured",
      "solution": "Check profiles.yml exists in ~/.dbt/, verify profile name matches dbt_project.yml",
      "severity": "high",
      "category": "configuration"
    },
    {
      "id": "compilation_error",
      "pattern": "Compilation Error",
      "regex": "(?i)compilation error|jinja.*error|undefined.*variable|template.*error",
      "cause": "Error compiling Jinja template or SQL",
      "solution": "Check Jinja syntax, verify ref() and source() arguments, review model SQL",
      "severity": "medium",
      "category": "compilation"
    },
    {
      "id": "model_not_found",
      "pattern": "model not found",
      "regex": "(?i)model.*not found|node.*not found|ref.*error|unknown.*model",
      "cause": "Referenced model does not exist",
      "solution": "Verify model name in ref(), check model is in correct directory, run 'dbt ls'",
      "severity": "medium",
      "category": "models"
    },
    {
      "id": "database_error",
      "pattern": "Database Error",
      "regex": "(?i)database error|sql.*error|syntax error|invalid.*column|relation.*does not exist",
      "cause": "SQL syntax error or invalid reference in warehouse",
      "solution": "Review compiled SQL in target/compiled/, check column names, verify table exists",
      "severity": "high",
      "category": "sql"
    },
    {
      "id": "schema_test_failure",
      "pattern": "test failure",
      "regex": "(?i)test.*failed|assertion.*failed|0 rows.*expected|test.*failure",
      "cause": "dbt test assertion failed",
      "solution": "Review test results, check data quality, update test threshold if appropriate",
      "severity": "medium",
      "category": "testing"
    },
    {
      "id": "dependency_error",
      "pattern": "dependency error",
      "regex": "(?i)dependency.*error|circular.*dependency|package.*not found|dbt_packages",
      "cause": "Model dependency or package issue",
      "solution": "Check model refs for circular dependencies, run 'dbt deps' to install packages",
      "severity": "medium",
      "category": "dependencies"
    },
    {
      "id": "yaml_error",
      "pattern": "YAML error",
      "regex": "(?i)yaml.*error|invalid.*yaml|schema\\.yml.*error|parse.*error",
      "cause": "YAML syntax error in schema or properties file",
      "solution": "Validate YAML syntax, check indentation, review schema.yml structure",
      "severity": "medium",
      "category": "configuration"
    },
    {
      "id": "source_freshness_error",
      "pattern": "freshness error",
      "regex": "(?i)freshness.*error|source.*stale|freshness.*warning|loaded_at.*error",
      "cause": "Source freshness check failed",
      "solution": "Review source loaded_at_field configuration, check source data is being updated",
      "severity": "medium",
      "category": "sources"
    },
    {
      "id": "seed_error",
      "pattern": "seed error",
      "regex": "(?i)seed.*error|csv.*error|failed to load seed|column.*mismatch",
      "cause": "Error loading seed CSV file",
      "solution": "Check CSV format, verify column types match, review seed configuration",
      "severity": "low",
      "category": "seeds"
    }
  ],
  "related_tools": ["snowflake", "bigquery", "redshift", "airflow"],
  "documentation_url": "https://docs.getdbt.com/"
}
