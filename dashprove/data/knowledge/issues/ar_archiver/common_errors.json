{
  "tool": "ar",
  "category": "binary_utilities",
  "common_errors": [
    {
      "error_pattern": "no archive",
      "cause": "Archive file doesn't exist and operation requires it",
      "solution": "Use 'c' modifier to create: ar rcs libfoo.a foo.o",
      "severity": "error"
    },
    {
      "error_pattern": "Malformed archive",
      "cause": "Archive file is corrupted or not a valid ar archive",
      "solution": "Check file type: file libfoo.a. Rebuild archive from source objects.",
      "severity": "error"
    },
    {
      "error_pattern": "No such file or directory",
      "cause": "Object file to add doesn't exist",
      "solution": "Verify .o files exist. Compile source first: gcc -c foo.c",
      "severity": "error"
    },
    {
      "error_pattern": "Permission denied",
      "cause": "Cannot read input file or write to archive location",
      "solution": "Check file permissions. Ensure directory is writable.",
      "severity": "error"
    },
    {
      "error_pattern": "two different operation options specified",
      "cause": "Conflicting operations (e.g., both 'r' replace and 'd' delete)",
      "solution": "Use only one operation: r (replace), d (delete), x (extract), t (list)",
      "severity": "error"
    },
    {
      "error_pattern": "no operation specified",
      "cause": "ar requires an operation flag",
      "solution": "Specify operation: ar r (replace), ar t (list), ar x (extract)",
      "severity": "error"
    },
    {
      "error_pattern": "file format not recognized",
      "cause": "Input file is not a valid object file",
      "solution": "Verify input is object file: file foo.o. Ensure correct compilation.",
      "severity": "error"
    },
    {
      "error_pattern": "truncated archive member header",
      "cause": "Archive file is incomplete or corrupted",
      "solution": "Rebuild archive. Check disk for errors. Verify no interruption during creation.",
      "severity": "error"
    },
    {
      "error_pattern": "is a fat file.*must specify the -arch flag",
      "cause": "macOS: Multi-architecture archive requires specifying which architecture",
      "solution": "Use: ar -arch x86_64 ... or lipo to extract single arch first",
      "severity": "error"
    },
    {
      "error_pattern": "illegal option",
      "cause": "Invalid flag for this ar implementation",
      "solution": "Check ar --help. Options differ between GNU ar and BSD/macOS ar.",
      "severity": "error"
    }
  ]
}
