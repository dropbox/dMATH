{
  "tool": "pydantic",
  "category": "python_validation",
  "common_errors": [
    {
      "id": "pydantic_v2_migration",
      "pattern": "v2 migration|pydantic v2|breaking change",
      "severity": "warning",
      "causes": [
        "Upgrading from v1 to v2",
        "API changes",
        "Deprecations"
      ],
      "solutions": [
        "Use bump-pydantic for automatic migration",
        "validator → field_validator",
        "root_validator → model_validator",
        "__get_validators__ → __get_pydantic_core_schema__"
      ]
    },
    {
      "id": "pydantic_validation_error",
      "pattern": "ValidationError|validation failed|invalid value",
      "severity": "error",
      "causes": [
        "Data doesn't match schema",
        "Type coercion failed",
        "Constraint violation"
      ],
      "solutions": [
        "Check error.errors() for details",
        "Use try/except ValidationError",
        "model_validate_json for JSON input"
      ]
    },
    {
      "id": "pydantic_field_validator",
      "pattern": "field_validator|@validator|custom validation",
      "severity": "info",
      "causes": [
        "Need custom validation",
        "Pre/post processing",
        "Complex rules"
      ],
      "solutions": [
        "@field_validator('field_name')",
        "mode='before' for pre-validation",
        "mode='after' for post (default)"
      ]
    },
    {
      "id": "pydantic_model_validator",
      "pattern": "model_validator|root_validator|cross-field",
      "severity": "info",
      "causes": [
        "Validate multiple fields together",
        "Cross-field validation",
        "Computed defaults"
      ],
      "solutions": [
        "@model_validator(mode='after')",
        "mode='before' for raw input",
        "Return self or raise ValueError"
      ]
    },
    {
      "id": "pydantic_field_default",
      "pattern": "Field default|default_factory|mutable default",
      "severity": "warning",
      "causes": [
        "Mutable default value",
        "Dynamic default",
        "Factory function"
      ],
      "solutions": [
        "Use Field(default_factory=list)",
        "Not Field(default=[])",
        "Factory called per instance"
      ]
    },
    {
      "id": "pydantic_config",
      "pattern": "model_config|ConfigDict|strict mode",
      "severity": "info",
      "causes": [
        "Configure model behavior",
        "Strict validation",
        "Extra fields handling"
      ],
      "solutions": [
        "model_config = ConfigDict(strict=True)",
        "extra='forbid' rejects extra fields",
        "validate_default=True validates defaults"
      ]
    },
    {
      "id": "pydantic_serialization",
      "pattern": "model_dump|dict|json|serialization",
      "severity": "info",
      "causes": [
        "Convert to dict/JSON",
        "Exclude fields",
        "Custom serialization"
      ],
      "solutions": [
        "model.model_dump() (was .dict())",
        "model.model_dump_json() (was .json())",
        "exclude={'field'}, include={'field'}"
      ]
    },
    {
      "id": "pydantic_computed_field",
      "pattern": "computed_field|property|derived field",
      "severity": "info",
      "causes": [
        "Computed property in schema",
        "Derived value",
        "Include in serialization"
      ],
      "solutions": [
        "@computed_field decorator",
        "@property with @computed_field",
        "Included in model_dump output"
      ]
    }
  ]
}
