{
  "tool": "svelte",
  "category": "framework",
  "common_errors": [
    {
      "id": "svelte_reactive_statement",
      "pattern": "$: not working|reactive not updating|derived value stale",
      "severity": "error",
      "causes": [
        "Reactive statement depends on non-reactive value",
        "Assignment needed for reactivity",
        "Object mutation not tracked"
      ],
      "solutions": [
        "Reassign entire object: obj = {...obj, key: value}",
        "Use $: for derived values: $: doubled = count * 2",
        "Array: arr = [...arr, newItem] not arr.push()"
      ]
    },
    {
      "id": "svelte_store_subscription",
      "pattern": "store not updating|$store undefined|subscribe error",
      "severity": "error",
      "causes": [
        "Store not imported",
        "Missing $ prefix",
        "Store not created properly"
      ],
      "solutions": [
        "Use $store syntax for auto-subscription",
        "Or manually: const value = $store",
        "Create: writable(), readable(), derived()"
      ]
    },
    {
      "id": "svelte_binding",
      "pattern": "bind:value|two way binding|input not updating",
      "severity": "warning",
      "causes": [
        "Missing bind: directive",
        "Component doesn't export prop",
        "Readonly property"
      ],
      "solutions": [
        "Use bind:value for inputs",
        "Component must export let prop for bind",
        "Check property is mutable"
      ]
    },
    {
      "id": "svelte_lifecycle",
      "pattern": "onMount|onDestroy|lifecycle error|window undefined",
      "severity": "error",
      "causes": [
        "Browser API in SSR context",
        "Lifecycle called outside component",
        "Import missing"
      ],
      "solutions": [
        "Wrap browser code in onMount()",
        "Use browser check: if (browser) {}",
        "Import from 'svelte': import { onMount }"
      ]
    },
    {
      "id": "svelte_slot_fallback",
      "pattern": "slot fallback|default content|conditional slot",
      "severity": "info",
      "causes": [
        "Want fallback when no slot content",
        "Checking if slot provided",
        "Named slots"
      ],
      "solutions": [
        "Add fallback: <slot>Default</slot>",
        "Check: {#if $$slots.default}",
        "Named: <slot name='header' />"
      ]
    },
    {
      "id": "svelte_each_key",
      "pattern": "each block|keyed each|list not updating",
      "severity": "warning",
      "causes": [
        "Missing key in #each",
        "Non-unique keys",
        "Array mutation issues"
      ],
      "solutions": [
        "Add key: {#each items as item (item.id)}",
        "Keys must be unique",
        "Reassign array after mutation"
      ]
    },
    {
      "id": "svelte_component_event",
      "pattern": "dispatch event|on:message|event forwarding",
      "severity": "info",
      "causes": [
        "Child needs to emit event",
        "Parent not listening",
        "Event not dispatched"
      ],
      "solutions": [
        "Create: const dispatch = createEventDispatcher()",
        "Emit: dispatch('eventname', data)",
        "Listen: <Component on:eventname={handler} />"
      ]
    }
  ]
}
