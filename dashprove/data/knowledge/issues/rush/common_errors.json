{
  "tool": "rush",
  "category": "monorepo",
  "common_errors": [
    {
      "pattern": "Error: The shrinkwrap file is out of date",
      "cause": "pnpm-lock.yaml or shrinkwrap doesn't match package dependencies",
      "solutions": [
        "Run 'rush update' to regenerate shrinkwrap",
        "Run 'rush update --full' for complete regeneration",
        "Check for version conflicts in package.json files"
      ]
    },
    {
      "pattern": "Error: The project.*was not found",
      "cause": "Project not registered in rush.json",
      "solutions": [
        "Add project to 'projects' array in rush.json",
        "Verify package.json name matches",
        "Run 'rush update' after adding"
      ]
    },
    {
      "pattern": "Error: Cyclic dependencies are not allowed",
      "cause": "Circular dependency between projects",
      "solutions": [
        "Run 'rush list --json' to analyze dependencies",
        "Extract shared code to new library",
        "Use cyclicDependencyProjects if intentional"
      ]
    },
    {
      "pattern": "Error: The build failed because.*needs to be built first",
      "cause": "Build order not respected due to missing dependency declaration",
      "solutions": [
        "Add missing dependency to package.json",
        "Run 'rush rebuild' for full ordered build",
        "Check devDependencies vs dependencies"
      ]
    },
    {
      "pattern": "Error: Another Rush command is already running",
      "cause": "Concurrent Rush operations or stale lock",
      "solutions": [
        "Wait for other command to complete",
        "Delete common/temp/rush-*.lock files",
        "Check for hung Node processes"
      ]
    },
    {
      "pattern": "PNPM_LOCKFILE_VERSION_MISMATCH",
      "cause": "pnpm version mismatch with lockfile format",
      "solutions": [
        "Update pnpmVersion in rush.json",
        "Run 'rush update --purge'",
        "Ensure all developers use same Rush version"
      ]
    },
    {
      "pattern": "Error:.*preferred-versions.*conflict",
      "cause": "Version conflict in common-versions.json",
      "solutions": [
        "Align versions in common/config/rush/common-versions.json",
        "Use allowedAlternativeVersions for intentional variations",
        "Run 'rush check' to find conflicts"
      ]
    },
    {
      "pattern": "Error: The maximum number of projects.*exceeded",
      "cause": "Monorepo scale limits exceeded",
      "solutions": [
        "Split into multiple Rush workspaces",
        "Use --to and --from flags for partial builds",
        "Enable incremental builds with heft"
      ]
    },
    {
      "pattern": "Error: rush publish.*Git working directory is not clean",
      "cause": "Uncommitted changes block publish",
      "solutions": [
        "Commit or stash all changes",
        "Use --ignore-git-hooks if hooks cause changes",
        "Check .gitignore for generated files"
      ]
    },
    {
      "pattern": "Error: The command.*is not defined in package.json",
      "cause": "Rush command references missing npm script",
      "solutions": [
        "Add script to package.json",
        "Check command-line.json for custom commands",
        "Use rushx for running package scripts directly"
      ]
    }
  ]
}
