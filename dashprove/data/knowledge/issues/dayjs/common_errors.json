{
  "tool": "dayjs",
  "category": "i18n_localization",
  "common_errors": [
    {
      "pattern": "Invalid Date",
      "meaning": "Day.js object represents invalid date",
      "causes": [
        "Parsing failed",
        "Input not recognized",
        "Date components invalid"
      ],
      "solutions": [
        "Check validity: dayjs('invalid').isValid() // false",
        "Use strict mode with format: dayjs('2024-13-01', 'YYYY-MM-DD', true).isValid() // false",
        "Parse with customParseFormat plugin for non-standard formats"
      ]
    },
    {
      "pattern": "dayjs\\(\\)\\.format is not a function",
      "meaning": "Import/setup issue",
      "causes": [
        "dayjs not properly imported",
        "ESM/CJS mismatch",
        "Module resolution failure"
      ],
      "solutions": [
        "CommonJS: const dayjs = require('dayjs')",
        "ESM: import dayjs from 'dayjs'",
        "Ensure dayjs() returns instance, not undefined"
      ]
    },
    {
      "pattern": "dayjs\\.extend is not a function",
      "meaning": "Using method before dayjs imported",
      "causes": [
        "Import order issue",
        "Circular dependency",
        "dayjs variable shadowed"
      ],
      "solutions": [
        "Import dayjs first, then extend: import dayjs from 'dayjs'; dayjs.extend(plugin)",
        "Check no local variable shadows dayjs",
        "Ensure dayjs loaded before plugins"
      ]
    },
    {
      "pattern": "dayjs\\.tz|timezone is not a function",
      "meaning": "Timezone plugin not loaded",
      "causes": [
        "timezone plugin not imported",
        "utc plugin not loaded (required dependency)",
        "Plugin not extended"
      ],
      "solutions": [
        "Import both required plugins: import utc from 'dayjs/plugin/utc'; import timezone from 'dayjs/plugin/timezone'",
        "Extend in order: dayjs.extend(utc); dayjs.extend(timezone)",
        "Then use: dayjs.tz('2024-01-01', 'America/New_York')"
      ]
    },
    {
      "pattern": "locale '.*' is not defined",
      "meaning": "Locale not loaded",
      "causes": [
        "Locale file not imported",
        "Locale code incorrect",
        "Using locale before loading"
      ],
      "solutions": [
        "Import locale: import 'dayjs/locale/de'",
        "Set globally: dayjs.locale('de')",
        "Or per-instance: dayjs().locale('de').format('LLLL')"
      ]
    },
    {
      "pattern": "format.*not working|wrong format output",
      "meaning": "Format tokens not behaving as expected",
      "causes": [
        "Using moment.js specific tokens",
        "Plugin not loaded for advanced formats",
        "Locale-specific format mismatch"
      ],
      "solutions": [
        "Day.js format is mostly moment-compatible but check docs",
        "For advanced formats, use advancedFormat plugin",
        "For localized formats (LLLL), use localizedFormat plugin"
      ]
    },
    {
      "pattern": "diff|duration.*undefined|not a function",
      "meaning": "Duration plugin not loaded",
      "causes": [
        "Using duration() without plugin",
        "Plugin not extended"
      ],
      "solutions": [
        "Import and extend: import duration from 'dayjs/plugin/duration'",
        "dayjs.extend(duration)",
        "Then use: dayjs.duration(2, 'hours')"
      ]
    },
    {
      "pattern": "cannot.*relative.*time",
      "meaning": "RelativeTime plugin missing",
      "causes": [
        "fromNow(), toNow() require plugin",
        "Plugin not extended"
      ],
      "solutions": [
        "Import: import relativeTime from 'dayjs/plugin/relativeTime'",
        "Extend: dayjs.extend(relativeTime)",
        "Use: dayjs('2024-01-01').fromNow()"
      ]
    },
    {
      "pattern": "quarter.*not defined|isoWeek.*not a function",
      "meaning": "Special unit plugin not loaded",
      "causes": [
        "quarter, isoWeek, weekYear require plugins",
        "Using unit methods without extension"
      ],
      "solutions": [
        "For quarters: dayjs.extend(quarterOfYear)",
        "For ISO weeks: dayjs.extend(isoWeek)",
        "For week year: dayjs.extend(weekYear) and weekOfYear"
      ]
    }
  ]
}
