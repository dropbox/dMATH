{
  "tool": "path_to_regexp",
  "category": "routing",
  "common_errors": [
    {
      "id": "path_to_regexp_no_match",
      "pattern": "route not matching|null returned|pattern doesn't match",
      "severity": "warning",
      "causes": [
        "Path pattern doesn't match URL structure",
        "Missing or extra slashes",
        "Parameter syntax wrong"
      ],
      "solutions": [
        "Test patterns: pathToRegexp('/user/:id').test('/user/123')",
        "Use :param for path parameters",
        "Use :param* for zero or more segments",
        "Use :param+ for one or more segments"
      ]
    },
    {
      "id": "path_to_regexp_v7_breaking",
      "pattern": "TypeError.*pathToRegexp|not a function|default export",
      "severity": "error",
      "causes": [
        "v7+ has different API than v6",
        "Default export changed to named exports",
        "Import syntax needs updating"
      ],
      "solutions": [
        "v7+: import { pathToRegexp, match } from 'path-to-regexp'",
        "v6: import pathToRegexp from 'path-to-regexp'",
        "Use match() function for param extraction in v7",
        "Check migration guide for v6 to v7"
      ]
    },
    {
      "id": "path_to_regexp_param_not_captured",
      "pattern": "params undefined|match\\.params empty|cannot read params",
      "severity": "error",
      "causes": [
        "Using regexp without match function",
        "Keys array not captured properly",
        "Wrong API usage for parameter extraction"
      ],
      "solutions": [
        "Use match() function: const fn = match('/user/:id')",
        "Call: fn('/user/123') returns { params: { id: '123' } }",
        "v6: Pass keys array to pathToRegexp() then use exec()",
        "Check for null result before accessing params"
      ]
    },
    {
      "id": "path_to_regexp_special_chars",
      "pattern": "regex error|invalid pattern|unescaped character",
      "severity": "error",
      "causes": [
        "Special regex characters in path not escaped",
        "Parentheses, brackets, or dots unescaped",
        "Custom pattern modifier syntax wrong"
      ],
      "solutions": [
        "Escape special chars: path-to-regexp handles most automatically",
        "For custom regex: :id(\\d+) for digits only",
        "Use encode option for URL encoding",
        "Test patterns incrementally to find problem"
      ]
    },
    {
      "id": "path_to_regexp_optional_segment",
      "pattern": "optional.*not working|missing segment error|required param",
      "severity": "warning",
      "causes": [
        "Wrong optional syntax used",
        "Segment required when should be optional",
        "v7 changed optional syntax"
      ],
      "solutions": [
        "v7: Use {/:param} for optional segment",
        "v6: Use :param? for optional",
        "Use :param* for optional multiple segments",
        "Check version and use appropriate syntax"
      ]
    },
    {
      "id": "path_to_regexp_compile_error",
      "pattern": "compile.*error|Missing required|Expected.*to match",
      "severity": "error",
      "causes": [
        "Missing required parameter in compile",
        "Parameter value doesn't match pattern constraint",
        "Wrong parameter name provided"
      ],
      "solutions": [
        "Provide all required params to compile()",
        "compile('/user/:id')({ id: '123' }) returns '/user/123'",
        "Ensure param values match any constraints",
        "Use encode: false if values already encoded"
      ]
    }
  ]
}
