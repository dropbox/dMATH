{
  "tool": "cargo_expand",
  "category": "rust_development",
  "common_errors": [
    {
      "id": "expand_install",
      "pattern": "cargo expand not found|install cargo-expand|nightly",
      "severity": "error",
      "causes": [
        "Tool not installed",
        "Nightly toolchain needed",
        "Rustfmt missing"
      ],
      "solutions": [
        "Install: cargo install cargo-expand",
        "Nightly recommended: rustup run nightly cargo expand",
        "Install rustfmt: rustup component add rustfmt"
      ]
    },
    {
      "id": "expand_item",
      "pattern": "expand specific|function|struct|module",
      "severity": "info",
      "causes": [
        "Want to expand specific item",
        "Too much output",
        "Focus on one macro"
      ],
      "solutions": [
        "Module: cargo expand module_name",
        "Item: cargo expand path::to::item",
        "Function: cargo expand -- function_name"
      ]
    },
    {
      "id": "expand_tests",
      "pattern": "expand tests|test module|#[cfg(test)]",
      "severity": "info",
      "causes": [
        "Want test macro expansion",
        "Test derives",
        "Test module hidden"
      ],
      "solutions": [
        "Use: cargo expand --tests",
        "Includes #[cfg(test)] code",
        "Or --lib for library only"
      ]
    },
    {
      "id": "expand_derive",
      "pattern": "derive expansion|#[derive]|custom derive",
      "severity": "info",
      "causes": [
        "See derive macro output",
        "Debug derive implementation",
        "Understand generated code"
      ],
      "solutions": [
        "cargo expand expands derives",
        "Look for impl blocks",
        "Custom derives show full expansion"
      ]
    },
    {
      "id": "expand_themes",
      "pattern": "syntax highlighting|theme|color output",
      "severity": "info",
      "causes": [
        "Want colored output",
        "Different theme",
        "Print without colors"
      ],
      "solutions": [
        "--theme for highlighting (uses bat)",
        "--theme=none for no colors",
        "Requires bat installed for themes"
      ]
    },
    {
      "id": "expand_format",
      "pattern": "format|rustfmt|ugly output",
      "severity": "warning",
      "causes": [
        "Expanded code not formatted",
        "Hard to read",
        "Rustfmt issues"
      ],
      "solutions": [
        "Installs rustfmt: rustup component add rustfmt",
        "Uses rustfmt automatically",
        "--ugly to skip formatting"
      ]
    },
    {
      "id": "expand_features",
      "pattern": "features|--features|conditional",
      "severity": "info",
      "causes": [
        "Macro depends on feature",
        "Conditional compilation",
        "cfg-gated code"
      ],
      "solutions": [
        "cargo expand --features feature_name",
        "--all-features for everything",
        "Shows code for enabled features"
      ]
    },
    {
      "id": "expand_proc_macro",
      "pattern": "proc macro|procedural macro|attribute macro",
      "severity": "info",
      "causes": [
        "Debug procedural macro",
        "See attribute expansion",
        "Macro generates wrong code"
      ],
      "solutions": [
        "Expand shows all macro output",
        "Look for generated impl/fn",
        "Use specific path for targeted view"
      ]
    }
  ]
}
