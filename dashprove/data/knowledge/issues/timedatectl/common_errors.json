{
  "tool": "timedatectl",
  "category": "system_administration",
  "common_errors": [
    {
      "error_pattern": "Failed to set time: NTP unit is active",
      "cause": "Cannot set time manually while NTP sync is enabled",
      "solution": "Disable NTP first: timedatectl set-ntp false, then set time",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to set timezone: Invalid timezone",
      "cause": "Specified timezone doesn't exist in system database",
      "solution": "List valid timezones: timedatectl list-timezones. Use exact name.",
      "severity": "error"
    },
    {
      "error_pattern": "Access denied",
      "cause": "Operation requires root privileges",
      "solution": "Use sudo: sudo timedatectl set-timezone America/New_York",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to set time: Automatic time synchronization is enabled",
      "cause": "NTP/chrony is managing time, blocking manual changes",
      "solution": "To set manual time: sudo timedatectl set-ntp 0; sudo timedatectl set-time 'YYYY-MM-DD HH:MM:SS'",
      "severity": "error"
    },
    {
      "error_pattern": "No suitable clock found",
      "cause": "System doesn't have required clock interface (containers, VMs)",
      "solution": "In containers, time usually inherited from host. Check virtualization settings.",
      "severity": "error"
    },
    {
      "error_pattern": "Failed to query server: Connection timed out",
      "cause": "Can't reach timedated service or systemd-timesyncd",
      "solution": "Check systemd services: systemctl status systemd-timedated systemd-timesyncd",
      "severity": "error"
    },
    {
      "error_pattern": "RTC time is in local time",
      "cause": "Hardware clock set to local time instead of UTC (dual-boot Windows issue)",
      "solution": "Set RTC to UTC: timedatectl set-local-rtc 0. Or configure Windows for UTC.",
      "severity": "warning"
    },
    {
      "error_pattern": "Failed to set RTC time",
      "cause": "Cannot write to hardware clock",
      "solution": "Check permissions. In VMs, RTC may be managed by hypervisor.",
      "severity": "error"
    },
    {
      "error_pattern": "NTP synchronized: no",
      "cause": "NTP enabled but not synchronized",
      "solution": "Check NTP server reachability. View status: systemctl status systemd-timesyncd",
      "severity": "warning"
    },
    {
      "error_pattern": "Failed to get D-Bus connection",
      "cause": "timedated service not running or D-Bus unavailable",
      "solution": "Start service: sudo systemctl start systemd-timedated",
      "severity": "error"
    }
  ]
}
