{
  "tool": "gem",
  "version": "3.5+",
  "last_updated": "2025-12-23",
  "errors": [
    {
      "id": "permission_denied",
      "pattern": "Permission denied|EACCES|cannot write|read-only",
      "message": "Permission denied",
      "cause": "No write permission to gem directory",
      "solutions": [
        {
          "approach": "Use user install",
          "code": "gem install --user-install packagename",
          "when": "User-level install"
        },
        {
          "approach": "Use rbenv",
          "code": "rbenv install 3.3.0 && rbenv local 3.3.0",
          "when": "Manage Ruby versions"
        },
        {
          "approach": "Use rvm",
          "code": "rvm install 3.3.0 && rvm use 3.3.0",
          "when": "Alternative Ruby manager"
        }
      ]
    },
    {
      "id": "build_failed",
      "pattern": "Failed to build.*extension|make failed|compilation.*error",
      "message": "Native extension build failed",
      "cause": "Missing build dependencies",
      "solutions": [
        {
          "approach": "Install build tools",
          "code": "# macOS: xcode-select --install\n# Linux: sudo apt install build-essential",
          "when": "No compiler"
        },
        {
          "approach": "Install dev headers",
          "code": "sudo apt install ruby-dev libxml2-dev libxslt-dev",
          "when": "Missing headers"
        },
        {
          "approach": "Use platform gem",
          "code": "gem install packagename --platform ruby",
          "when": "Force Ruby platform"
        }
      ]
    },
    {
      "id": "dependency_conflict",
      "pattern": "Gem.*conflict|already activated|can't activate",
      "message": "Gem dependency conflict",
      "cause": "Multiple versions activated",
      "solutions": [
        {
          "approach": "Use bundler",
          "code": "bundle install",
          "when": "Project dependencies"
        },
        {
          "approach": "Clean up",
          "code": "gem cleanup packagename",
          "when": "Remove old versions"
        },
        {
          "approach": "Pristine all",
          "code": "gem pristine --all",
          "when": "Rebuild extensions"
        }
      ]
    },
    {
      "id": "ssl_error",
      "pattern": "SSL.*error|certificate verify|CERTIFICATE_VERIFY_FAILED",
      "message": "SSL certificate error",
      "cause": "SSL certificate verification failed",
      "solutions": [
        {
          "approach": "Update certificates",
          "code": "gem update --system",
          "when": "Outdated RubyGems"
        },
        {
          "approach": "Update CA bundle",
          "code": "# Update system CA certificates",
          "when": "System certs outdated"
        },
        {
          "approach": "Use HTTP (insecure)",
          "code": "gem sources -a http://rubygems.org/",
          "when": "Temporary workaround"
        }
      ]
    },
    {
      "id": "network_error",
      "pattern": "network.*error|ETIMEDOUT|unable to download",
      "message": "Network error",
      "cause": "Cannot reach RubyGems.org",
      "solutions": [
        {
          "approach": "Check sources",
          "code": "gem sources -l",
          "when": "Verify sources"
        },
        {
          "approach": "Use mirror",
          "code": "gem sources -a https://gems.ruby-china.com/",
          "when": "RubyGems.org blocked"
        },
        {
          "approach": "Set proxy",
          "code": "export http_proxy=http://proxy:8080",
          "when": "Behind proxy"
        }
      ]
    },
    {
      "id": "version_not_found",
      "pattern": "Could not find.*version|Version.*not found",
      "message": "Gem version not found",
      "cause": "Requested version doesn't exist",
      "solutions": [
        {
          "approach": "List versions",
          "code": "gem list --remote packagename --all",
          "when": "Find available versions"
        },
        {
          "approach": "Install latest",
          "code": "gem install packagename",
          "when": "Use newest version"
        },
        {
          "approach": "Update sources",
          "code": "gem sources --update",
          "when": "Refresh source cache"
        }
      ]
    },
    {
      "id": "ruby_version",
      "pattern": "requires Ruby version|ruby.*incompatible",
      "message": "Ruby version incompatible",
      "cause": "Gem requires different Ruby version",
      "solutions": [
        {
          "approach": "Use rbenv",
          "code": "rbenv install 3.3.0 && rbenv local 3.3.0",
          "when": "Switch Ruby version"
        },
        {
          "approach": "Use older gem",
          "code": "gem install packagename -v '< 2.0'",
          "when": "Older version supports Ruby"
        },
        {
          "approach": "Upgrade Ruby",
          "code": "rbenv install 3.3.0",
          "when": "Need newer Ruby"
        }
      ]
    },
    {
      "id": "platform_mismatch",
      "pattern": "platform.*not supported|wrong platform|x86_64.*arm64",
      "message": "Platform not supported",
      "cause": "Gem not available for this platform",
      "solutions": [
        {
          "approach": "Force platform",
          "code": "gem install packagename --platform ruby",
          "when": "Build from source"
        },
        {
          "approach": "Install Rosetta",
          "code": "softwareupdate --install-rosetta",
          "when": "macOS ARM with x86 gem"
        },
        {
          "approach": "Check alternatives",
          "code": "gem search packagename",
          "when": "Find similar gem"
        }
      ]
    },
    {
      "id": "gemfile_missing",
      "pattern": "Gemfile.*not found|bundle.*no Gemfile",
      "message": "Gemfile not found",
      "cause": "No Gemfile in current directory",
      "solutions": [
        {
          "approach": "Create Gemfile",
          "code": "bundle init",
          "when": "New project"
        },
        {
          "approach": "Check directory",
          "code": "ls Gemfile",
          "when": "Wrong directory"
        },
        {
          "approach": "Use gem directly",
          "code": "gem install packagename",
          "when": "Don't need bundler"
        }
      ]
    },
    {
      "id": "credentials_error",
      "pattern": "credentials.*error|API key|unauthorized",
      "message": "API credentials error",
      "cause": "Invalid or missing RubyGems API key",
      "solutions": [
        {
          "approach": "Set API key",
          "code": "gem signin",
          "when": "Authenticate"
        },
        {
          "approach": "Use credentials file",
          "code": "mkdir -p ~/.gem && echo ':rubygems_api_key: KEY' > ~/.gem/credentials && chmod 600 ~/.gem/credentials",
          "when": "Manual config"
        },
        {
          "approach": "Get new key",
          "code": "# Get API key from rubygems.org/settings/edit",
          "when": "Key expired"
        }
      ]
    }
  ]
}
