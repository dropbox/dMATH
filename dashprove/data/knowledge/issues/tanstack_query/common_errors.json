{
  "tool": "tanstack_query",
  "category": "data_fetching",
  "common_errors": [
    {
      "id": "tq_v5_migration",
      "pattern": "v5 migration|cacheTime|gcTime|breaking change",
      "severity": "warning",
      "causes": [
        "Upgrading from v4 to v5",
        "API name changes",
        "Options renamed"
      ],
      "solutions": [
        "cacheTime renamed to gcTime",
        "useQueries returns object not array",
        "Check migration guide for all changes"
      ]
    },
    {
      "id": "tq_types",
      "pattern": "type error|inferred types|generic type",
      "severity": "warning",
      "causes": [
        "TypeScript inference issues",
        "Generic not provided",
        "Data type unknown"
      ],
      "solutions": [
        "useQuery<Data, Error>({ queryKey, queryFn })",
        "Type queryFn return value",
        "Use inferred types when possible"
      ]
    },
    {
      "id": "tq_throwOnError",
      "pattern": "throwOnError|error boundary|useErrorBoundary deprecated",
      "severity": "warning",
      "causes": [
        "useErrorBoundary renamed in v5",
        "Error handling config",
        "React error boundaries"
      ],
      "solutions": [
        "Use throwOnError instead of useErrorBoundary",
        "throwOnError: true throws to boundary",
        "Can be function: (error) => boolean"
      ]
    },
    {
      "id": "tq_suspense",
      "pattern": "suspense|useSuspenseQuery|loading state",
      "severity": "info",
      "causes": [
        "Want React Suspense integration",
        "Loading handled by boundary",
        "Cleaner component code"
      ],
      "solutions": [
        "Use useSuspenseQuery (v5+)",
        "No loading state needed",
        "Wrap in <Suspense> boundary"
      ]
    },
    {
      "id": "tq_select",
      "pattern": "select|transform data|derived state",
      "severity": "info",
      "causes": [
        "Transform fetched data",
        "Compute derived values",
        "Memoize transformations"
      ],
      "solutions": [
        "Use select option: select: (data) => data.items",
        "Automatically memoized",
        "Only recomputes when data changes"
      ]
    },
    {
      "id": "tq_network_mode",
      "pattern": "offline|networkMode|fetchStatus",
      "severity": "info",
      "causes": [
        "Offline-first behavior",
        "Network status handling",
        "Paused queries"
      ],
      "solutions": [
        "networkMode: 'offlineFirst'",
        "Check fetchStatus: 'paused'",
        "status vs fetchStatus for offline"
      ]
    },
    {
      "id": "tq_placeholder_data",
      "pattern": "placeholderData|initial data|loading placeholder",
      "severity": "info",
      "causes": [
        "Show placeholder while loading",
        "Use cached data as placeholder",
        "Smooth UX on navigation"
      ],
      "solutions": [
        "placeholderData: previousData",
        "placeholderData: keepPreviousData (v5)",
        "Differs from initialData (placeholder not cached)"
      ]
    },
    {
      "id": "tq_retry",
      "pattern": "retry|failed query|exponential backoff",
      "severity": "info",
      "causes": [
        "Query failing intermittently",
        "Too many retries",
        "Custom retry logic"
      ],
      "solutions": [
        "Default: 3 retries with exponential backoff",
        "retry: false to disable",
        "retry: (failureCount, error) => boolean"
      ]
    }
  ]
}
