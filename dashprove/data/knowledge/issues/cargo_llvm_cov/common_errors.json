{
  "tool": "cargo_llvm_cov",
  "category": "rust_coverage",
  "common_errors": [
    {
      "id": "llvm_cov_install",
      "pattern": "llvm-cov not found|install cargo-llvm-cov|component missing",
      "severity": "error",
      "causes": [
        "Tool not installed",
        "llvm-tools not installed",
        "Rust toolchain issue"
      ],
      "solutions": [
        "Install: cargo install cargo-llvm-cov",
        "Then: rustup component add llvm-tools-preview",
        "Or: cargo llvm-cov --install-component"
      ]
    },
    {
      "id": "llvm_cov_nightly",
      "pattern": "nightly required|unstable feature|profdata error",
      "severity": "error",
      "causes": [
        "Some features need nightly",
        "Branch coverage needs nightly",
        "Toolchain mismatch"
      ],
      "solutions": [
        "Basic coverage works on stable",
        "Branch coverage: +nightly --branch",
        "Use: rustup run nightly cargo llvm-cov"
      ]
    },
    {
      "id": "llvm_cov_output",
      "pattern": "output format|html|lcov|json",
      "severity": "info",
      "causes": [
        "Want different output format",
        "CI integration",
        "Coverage visualization"
      ],
      "solutions": [
        "HTML: cargo llvm-cov --html",
        "LCOV: cargo llvm-cov --lcov --output-path lcov.info",
        "JSON: cargo llvm-cov --json"
      ]
    },
    {
      "id": "llvm_cov_workspace",
      "pattern": "workspace|multiple packages|--workspace",
      "severity": "warning",
      "causes": [
        "Workspace coverage incomplete",
        "Only one package covered",
        "Dependency coverage"
      ],
      "solutions": [
        "Use --workspace for all packages",
        "Exclude deps: --ignore-filename-regex=.cargo",
        "Or --package pkg1 --package pkg2"
      ]
    },
    {
      "id": "llvm_cov_doctests",
      "pattern": "doctest|doc tests|doctests coverage",
      "severity": "info",
      "causes": [
        "Doc tests not covered",
        "Want doctest coverage",
        "Missing --doctests"
      ],
      "solutions": [
        "Add: --doctests flag",
        "Note: may need nightly",
        "Combine with --tests for all"
      ]
    },
    {
      "id": "llvm_cov_ignore",
      "pattern": "ignore file|exclude|cfg not covered",
      "severity": "warning",
      "causes": [
        "Generated code in coverage",
        "Test code in coverage",
        "Want to exclude files"
      ],
      "solutions": [
        "--ignore-filename-regex 'tests/'",
        "Use #[coverage(off)] attribute (nightly)",
        "Configure in .cargo/config.toml"
      ]
    },
    {
      "id": "llvm_cov_clean",
      "pattern": "stale coverage|old data|clean",
      "severity": "warning",
      "causes": [
        "Coverage data from old build",
        "Incremental builds issues",
        "Profile data mismatch"
      ],
      "solutions": [
        "Use: cargo llvm-cov clean",
        "Or: cargo llvm-cov --clean",
        "Rebuilds with coverage instrumentation"
      ]
    },
    {
      "id": "llvm_cov_threshold",
      "pattern": "minimum coverage|threshold|fail under",
      "severity": "info",
      "causes": [
        "Enforce coverage requirement",
        "CI gate",
        "Coverage regression"
      ],
      "solutions": [
        "Use: --fail-under-functions 80",
        "--fail-under-lines 80",
        "Check output JSON for programmatic use"
      ]
    }
  ]
}
