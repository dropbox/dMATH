{
  "tool": "nanoevents",
  "category": "events",
  "common_errors": [
    {
      "id": "nanoevents_unbind_pattern",
      "pattern": "can't remove listener|unbind not working|listener still called",
      "severity": "error",
      "causes": [
        "Not saving unbind function",
        "Using off() which doesn't exist",
        "Different API than EventEmitter"
      ],
      "solutions": [
        "nanoevents returns unbind function: const unbind = emitter.on('event', fn)",
        "Call unbind() to remove listener",
        "No off() method - use returned function",
        "Store unbind references for cleanup"
      ]
    },
    {
      "id": "nanoevents_typescript",
      "pattern": "TypeScript error|event types|generic parameter",
      "severity": "warning",
      "causes": [
        "Not providing event type map",
        "Wrong generic syntax",
        "Type inference issues"
      ],
      "solutions": [
        "Define: interface Events { foo: (x: number) => void }",
        "Create: createNanoEvents<Events>()",
        "Event callbacks are typed automatically",
        "Use type assertion if needed"
      ]
    },
    {
      "id": "nanoevents_emit_args",
      "pattern": "wrong arguments|emit not working|args not received",
      "severity": "error",
      "causes": [
        "emit() signature different",
        "Arguments passed incorrectly",
        "Expecting different API"
      ],
      "solutions": [
        "emit('event', arg1, arg2, ...) - spread args",
        "Handlers receive: (arg1, arg2) => {}",
        "No event object wrapper",
        "Simple direct argument passing"
      ]
    },
    {
      "id": "nanoevents_once",
      "pattern": "once not available|one-time listener|no once method",
      "severity": "warning",
      "causes": [
        "nanoevents is minimal - no built-in once",
        "Expecting EventEmitter API",
        "Size optimization tradeoff"
      ],
      "solutions": [
        "Implement: function once(e, fn) { const u = emitter.on(e, (...a) => { u(); fn(...a) }); return u }",
        "Or unbind in handler",
        "Minimal by design (~90 bytes)",
        "Consider mitt if you need more features"
      ]
    }
  ]
}
