{
  "tool": "npm",
  "version": "10+",
  "last_updated": "2025-12-23",
  "errors": [
    {
      "id": "enoent",
      "pattern": "ENOENT|no such file|package.json.*not found",
      "message": "File or directory not found",
      "cause": "package.json missing or wrong directory",
      "solutions": [
        {
          "approach": "Initialize package",
          "code": "npm init -y",
          "when": "No package.json"
        },
        {
          "approach": "Check directory",
          "code": "ls package.json",
          "when": "Wrong directory"
        }
      ]
    },
    {
      "id": "eresolve",
      "pattern": "ERESOLVE|peer dependency|unable to resolve",
      "message": "Dependency resolution conflict",
      "cause": "Peer dependency conflicts",
      "solutions": [
        {
          "approach": "Use legacy-peer-deps",
          "code": "npm install --legacy-peer-deps",
          "when": "Skip peer dep checks"
        },
        {
          "approach": "Use force",
          "code": "npm install --force",
          "when": "Override conflicts"
        },
        {
          "approach": "Resolve manually",
          "code": "npm ls packagename  # Find conflict",
          "when": "Understand conflict"
        },
        {
          "approach": "Use overrides",
          "code": "\"overrides\": { \"packagename\": \"^2.0.0\" }",
          "when": "Force specific version"
        }
      ]
    },
    {
      "id": "eacces",
      "pattern": "EACCES|permission denied|access.*denied",
      "message": "Permission denied",
      "cause": "No write permission to node_modules or npm cache",
      "solutions": [
        {
          "approach": "Fix npm permissions",
          "code": "sudo chown -R $(whoami) ~/.npm",
          "when": "Cache permission"
        },
        {
          "approach": "Use nvm",
          "code": "curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash",
          "when": "Manage Node versions"
        },
        {
          "approach": "Configure npm prefix",
          "code": "npm config set prefix ~/.npm-global",
          "when": "Global install dir"
        }
      ]
    },
    {
      "id": "network_error",
      "pattern": "ETIMEDOUT|ECONNREFUSED|network.*error|fetch failed",
      "message": "Network error",
      "cause": "Cannot reach npm registry",
      "solutions": [
        {
          "approach": "Check registry",
          "code": "npm config get registry",
          "when": "Wrong registry"
        },
        {
          "approach": "Clear cache",
          "code": "npm cache clean --force",
          "when": "Corrupted cache"
        },
        {
          "approach": "Use mirror",
          "code": "npm config set registry https://registry.npmmirror.com",
          "when": "Registry blocked"
        },
        {
          "approach": "Set proxy",
          "code": "npm config set proxy http://proxy:8080",
          "when": "Behind proxy"
        }
      ]
    },
    {
      "id": "version_not_found",
      "pattern": "No matching version|version.*not found|ETARGET",
      "message": "Package version not found",
      "cause": "Requested version doesn't exist",
      "solutions": [
        {
          "approach": "Check available versions",
          "code": "npm view packagename versions",
          "when": "Find valid versions"
        },
        {
          "approach": "Use latest",
          "code": "npm install packagename@latest",
          "when": "Want newest"
        },
        {
          "approach": "Use dist-tag",
          "code": "npm view packagename dist-tags",
          "when": "Check tags"
        }
      ]
    },
    {
      "id": "audit_vulnerability",
      "pattern": "found.*vulnerabilities|audit.*high|security.*issue",
      "message": "Security vulnerabilities found",
      "cause": "Dependencies have known vulnerabilities",
      "solutions": [
        {
          "approach": "Auto fix",
          "code": "npm audit fix",
          "when": "Safe fixes available"
        },
        {
          "approach": "Force fix",
          "code": "npm audit fix --force",
          "when": "Accept breaking changes"
        },
        {
          "approach": "Review manually",
          "code": "npm audit",
          "when": "Review details"
        },
        {
          "approach": "Use overrides",
          "code": "\"overrides\": { \"vulnerable-pkg\": \"^2.0.0\" }",
          "when": "Force secure version"
        }
      ]
    },
    {
      "id": "engine_mismatch",
      "pattern": "engine.*not compatible|node version|npm version.*required",
      "message": "Node/npm version mismatch",
      "cause": "Package requires different Node/npm version",
      "solutions": [
        {
          "approach": "Use nvm",
          "code": "nvm install 20 && nvm use 20",
          "when": "Switch Node version"
        },
        {
          "approach": "Ignore engines",
          "code": "npm install --ignore-engines",
          "when": "Force install"
        },
        {
          "approach": "Update Node",
          "code": "nvm install node  # Latest",
          "when": "Update Node"
        }
      ]
    },
    {
      "id": "integrity_check",
      "pattern": "EINTEGRITY|sha512.*did not match|integrity check",
      "message": "Package integrity check failed",
      "cause": "Downloaded package doesn't match hash",
      "solutions": [
        {
          "approach": "Clear cache",
          "code": "npm cache clean --force",
          "when": "Corrupted cache"
        },
        {
          "approach": "Delete lock file",
          "code": "rm package-lock.json && npm install",
          "when": "Regenerate lock"
        },
        {
          "approach": "Delete node_modules",
          "code": "rm -rf node_modules && npm install",
          "when": "Fresh install"
        }
      ]
    },
    {
      "id": "git_dependency",
      "pattern": "git.*clone failed|Could not install.*github|ssh.*denied",
      "message": "Git dependency installation failed",
      "cause": "Cannot clone git repository",
      "solutions": [
        {
          "approach": "Use HTTPS",
          "code": "\"dep\": \"https://github.com/user/repo.git\"",
          "when": "SSH not configured"
        },
        {
          "approach": "Configure SSH",
          "code": "ssh-keygen -t ed25519 && ssh-add",
          "when": "Need SSH access"
        },
        {
          "approach": "Use tarball",
          "code": "\"dep\": \"https://github.com/user/repo/tarball/main\"",
          "when": "Avoid git clone"
        }
      ]
    },
    {
      "id": "script_error",
      "pattern": "script.*failed|postinstall.*error|lifecycle.*error",
      "message": "Package script failed",
      "cause": "Install script error",
      "solutions": [
        {
          "approach": "Ignore scripts",
          "code": "npm install --ignore-scripts",
          "when": "Skip scripts"
        },
        {
          "approach": "Check script output",
          "code": "npm install 2>&1 | head -100",
          "when": "Debug script"
        },
        {
          "approach": "Install build tools",
          "code": "npm install -g node-gyp",
          "when": "Native module"
        }
      ]
    }
  ]
}
