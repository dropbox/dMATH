{
  "id": "terraform_validate",
  "name": "Terraform Validate & Plan",
  "category": "infrastructure",
  "subcategory": "iac_verification",

  "description": "Infrastructure as Code verification for Terraform configurations",
  "long_description": "Terraform's built-in validation and planning commands provide verification for Infrastructure as Code. The validate command checks configuration files for syntax and internal consistency, while plan generates an execution plan showing what changes will be made. Combined with tools like tflint, checkov, and terrascan, Terraform configurations can be rigorously verified before deployment.",

  "capabilities": [
    "syntax_validation",
    "type_checking",
    "execution_planning",
    "drift_detection",
    "dependency_graph",
    "state_inspection",
    "module_verification",
    "provider_validation"
  ],
  "property_types": ["infrastructure_correctness", "configuration_validity"],
  "input_languages": ["hcl", "terraform"],
  "output_formats": ["text", "json"],

  "installation": {
    "methods": [
      {"type": "brew", "command": "brew install terraform", "platform": "macos"},
      {"type": "apt", "command": "apt install terraform", "platform": "linux"},
      {"type": "binary", "url": "https://developer.hashicorp.com/terraform/downloads"}
    ],
    "dependencies": [],
    "platforms": ["linux", "macos", "windows"]
  },

  "documentation": {
    "official": "https://developer.hashicorp.com/terraform/cli/commands",
    "tutorial": "https://developer.hashicorp.com/terraform/tutorials",
    "api_reference": "https://developer.hashicorp.com/terraform/language",
    "examples": "https://github.com/hashicorp/terraform-guides"
  },

  "tactics": [
    {
      "name": "validate",
      "description": "Validate configuration syntax",
      "syntax": "terraform validate",
      "when_to_use": "After writing/modifying configs",
      "examples": ["terraform init && terraform validate"]
    },
    {
      "name": "plan",
      "description": "Generate execution plan",
      "syntax": "terraform plan",
      "when_to_use": "Before applying changes",
      "examples": ["terraform plan -out=tfplan && terraform show tfplan"]
    },
    {
      "name": "plan_json",
      "description": "Generate machine-readable plan",
      "syntax": "terraform plan -out=tfplan && terraform show -json tfplan",
      "when_to_use": "CI/CD automation, policy checking",
      "examples": ["terraform show -json tfplan | jq '.resource_changes'"]
    },
    {
      "name": "fmt_check",
      "description": "Check formatting",
      "syntax": "terraform fmt -check -recursive",
      "when_to_use": "CI linting",
      "examples": ["terraform fmt -check -diff"]
    }
  ],

  "error_patterns": [
    {
      "pattern": "Error: Invalid reference",
      "meaning": "Reference to unknown resource or variable",
      "common_causes": ["Typo in reference", "Missing resource"],
      "fixes": ["Check resource names", "Add missing resource"]
    },
    {
      "pattern": "Error: Unsupported attribute",
      "meaning": "Attribute doesn't exist on resource type",
      "common_causes": ["Wrong provider version", "Typo"],
      "fixes": ["Check documentation", "Update provider"]
    },
    {
      "pattern": "Error.*cycle",
      "meaning": "Circular dependency detected",
      "common_causes": ["Resources depend on each other"],
      "fixes": ["Break dependency cycle", "Use depends_on carefully"]
    }
  ],

  "integration": {
    "dashprove_backend": true,
    "usl_property_types": ["infrastructure_correctness"],
    "cli_command": "dashprove verify --backend terraform"
  },

  "performance": {
    "typical_runtime": "Fast for validate; plan depends on provider APIs",
    "scalability": "Good; handles large configurations",
    "memory_usage": "Moderate"
  },

  "comparisons": {
    "similar_tools": ["pulumi", "cloudformation", "ansible"],
    "advantages": ["Industry standard", "Multi-cloud", "Mature ecosystem"],
    "disadvantages": ["State management complexity", "License changes"]
  },

  "metadata": {
    "version": "1.7.0",
    "last_updated": "2025-12-22",
    "maintainer": "HashiCorp",
    "license": "BUSL-1.1"
  }
}
