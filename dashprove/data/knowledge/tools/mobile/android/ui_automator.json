{
  "id": "ui_automator",
  "name": "UI Automator",
  "category": "android_testing",
  "subcategory": "system_ui_testing",

  "description": "Android framework for cross-app UI testing and system interactions",
  "long_description": "UI Automator is an Android testing framework for cross-app functional UI testing. Unlike Espresso which runs in-process, UI Automator can interact with any app and system UI including notifications, settings, and the home screen. It's ideal for testing app interactions with system components or other apps.",

  "capabilities": [
    "cross_app_testing",
    "system_ui_interaction",
    "notification_testing",
    "settings_automation",
    "device_controls",
    "accessibility_testing",
    "screenshot_capture",
    "multi_app_workflows"
  ],
  "property_types": ["ui_selector", "ui_action", "device_action"],
  "input_languages": ["kotlin", "java"],
  "output_formats": ["android_test_report", "junit_xml", "screenshots"],

  "installation": {
    "methods": [
      {"type": "gradle", "command": "androidTestImplementation 'androidx.test.uiautomator:uiautomator:2.3.0'"}
    ],
    "dependencies": ["android_sdk", "androidx_test"],
    "platforms": ["android"]
  },

  "documentation": {
    "official": "https://developer.android.com/training/testing/other-components/ui-automator",
    "api_reference": "https://developer.android.com/reference/androidx/test/uiautomator/package-summary",
    "tutorial": "https://developer.android.com/training/testing/other-components/ui-automator#access-ui-components",
    "examples": "https://github.com/android/testing-samples/tree/main/ui/uiautomator"
  },

  "tactics": [
    {
      "name": "get_device",
      "description": "Get UiDevice instance",
      "syntax": "UiDevice.getInstance(InstrumentationRegistry.getInstrumentation())",
      "when_to_use": "Start of every UI Automator test",
      "examples": ["val device = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation())"]
    },
    {
      "name": "find_object",
      "description": "Find UI object by selector",
      "syntax": "device.findObject(UiSelector()...)",
      "when_to_use": "Locating any UI element",
      "examples": ["device.findObject(UiSelector().text(\"Settings\"))", "device.findObject(UiSelector().resourceId(\"com.app:id/button\"))"]
    },
    {
      "name": "by_selector",
      "description": "Modern selector API (API 18+)",
      "syntax": "device.findObject(By.text(\"text\"))",
      "when_to_use": "Preferred modern API",
      "examples": ["device.findObject(By.text(\"OK\"))", "device.findObject(By.res(\"com.app\", \"button\"))"]
    },
    {
      "name": "device_actions",
      "description": "Perform device-level actions",
      "syntax": "device.pressHome/Back/Recent()",
      "when_to_use": "System navigation",
      "examples": ["device.pressHome()", "device.pressBack()", "device.openNotification()"]
    },
    {
      "name": "wait_for_object",
      "description": "Wait for object to appear",
      "syntax": "device.wait(Until.hasObject(selector), timeout)",
      "when_to_use": "Handling async UI changes",
      "examples": ["device.wait(Until.hasObject(By.text(\"Done\")), 5000)"]
    },
    {
      "name": "scroll_and_find",
      "description": "Scroll to find object",
      "syntax": "UiScrollable().scrollIntoView()",
      "when_to_use": "Finding objects in scrollable lists",
      "examples": ["UiScrollable(UiSelector().scrollable(true))\n    .scrollIntoView(UiSelector().text(\"Item\"))"]
    }
  ],

  "selectors": [
    {
      "name": "text",
      "description": "Select by text content",
      "examples": ["UiSelector().text(\"Login\")", "By.text(\"Login\")"]
    },
    {
      "name": "resourceId",
      "description": "Select by resource ID",
      "examples": ["UiSelector().resourceId(\"com.app:id/btn\")", "By.res(\"com.app\", \"btn\")"]
    },
    {
      "name": "className",
      "description": "Select by class name",
      "examples": ["UiSelector().className(Button::class.java)", "By.clazz(Button::class.java)"]
    },
    {
      "name": "description",
      "description": "Select by content description",
      "examples": ["UiSelector().description(\"Menu\")", "By.desc(\"Menu\")"]
    },
    {
      "name": "packageName",
      "description": "Select by app package",
      "examples": ["By.pkg(\"com.android.settings\")"]
    }
  ],

  "error_patterns": [
    {
      "pattern": "UiObjectNotFoundException",
      "meaning": "Object not found with given selector",
      "common_causes": ["Wrong selector", "Object not visible", "Different app version"],
      "fixes": ["Verify selector with UI Automator Viewer", "Add wait", "Update selector"]
    },
    {
      "pattern": "StaleObjectException",
      "meaning": "Object reference is no longer valid",
      "common_causes": ["UI changed after finding object", "Page navigated"],
      "fixes": ["Re-find object before interaction", "Add synchronization"]
    },
    {
      "pattern": "permission denied",
      "meaning": "Missing permissions for operation",
      "common_causes": ["Shell commands without root", "Protected actions"],
      "fixes": ["Grant necessary permissions", "Use alternative approach"]
    }
  ],

  "integration": {
    "dashprove_backend": false,
    "ide_support": ["android_studio", "intellij"],
    "ci_integration": ["github_actions", "gitlab_ci", "firebase_test_lab"]
  },

  "performance": {
    "typical_runtime": "seconds per test (slower than Espresso)",
    "scalability": "Can test any visible UI",
    "memory_usage": "Runs as separate process"
  },

  "comparisons": {
    "similar_tools": ["espresso", "appium", "maestro"],
    "advantages": [
      "Can test any app and system UI",
      "Access to notifications and settings",
      "Can automate device-level actions",
      "No app modifications needed"
    ],
    "disadvantages": [
      "Slower than Espresso",
      "No automatic synchronization",
      "Less reliable for in-app testing",
      "Android only"
    ]
  },

  "metadata": {
    "version": "2.3.0",
    "last_updated": "2025-12-22",
    "maintainer": "Google",
    "license": "Apache-2.0"
  }
}
